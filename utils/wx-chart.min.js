/*!
 * wx-chart.js
 * Chart for WeiXin application
 * Version: 0.3.3
 *
 * Copyright 2016 Jone Casper
 * Released under the MIT license
 * https://github.com/xch89820/wx-chart/blob/master/LICENSE.md
 */
"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.WxChart=t()}}(function(){var t;return function t(e,n,i){function r(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports=t("./lib/bezier")},{"./lib/bezier":2}],2:[function(t,e,n){!function(){function n(t,e,n,i,r){"undefined"==typeof r&&(r=.5);var o=c.projectionratio(r,t),a=1-o,u={x:o*e.x+a*i.x,y:o*e.y+a*i.y},s=c.abcratio(r,t),l={x:n.x+(n.x-u.x)/s,y:n.y+(n.y-u.y)/s};return{A:l,B:n,C:u}}var i=Math.abs,r=Math.min,o=Math.max,a=Math.acos,u=Math.sqrt,s=Math.PI,l={x:0,y:0,z:0},c=t("./utils.js"),f=t("./poly-bezier.js"),h=function(t){var e=t&&t.forEach?t:[].slice.call(arguments),n=!1;if("object"===_typeof2(e[0])){n=e.length;var r=[];e.forEach(function(t){["x","y","z"].forEach(function(e){"undefined"!=typeof t[e]&&r.push(t[e])})}),e=r}var o=!1,a=e.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var u=!o&&(9===a||12===a)||t&&t[0]&&"undefined"!=typeof t[0].z;this._3d=u;for(var s=[],l=0,f=u?3:2;l<a;l+=f){var h={x:e[l],y:e[l+1]};u&&(h.z=e[l+2]),s.push(h)}this.order=s.length-1,this.points=s;var d=["x","y"];u&&d.push("z"),this.dims=d,this.dimlen=d.length,function(t){for(var e=t.order,n=t.points,r=c.align(n,{p1:n[0],p2:n[e]}),o=0;o<r.length;o++)if(i(r[o].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};h.fromSVG=function(t){var e=t.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat),n=/[cq]/.test(t);return n?(e=e.map(function(t,n){return n<2?t:t+e[n%2]}),new h(e)):new h(e)},h.quadraticFromPoints=function(t,e,i,r){if("undefined"==typeof r&&(r=.5),0===r)return new h(e,e,i);if(1===r)return new h(t,e,e);var o=n(2,t,e,i,r);return new h(t,o.A,i)},h.cubicFromPoints=function(t,e,i,r,o){"undefined"==typeof r&&(r=.5);var a=n(3,t,e,i,r);"undefined"==typeof o&&(o=c.dist(e,a.C));var u=o*(1-r)/r,s=c.dist(t,i),l=(i.x-t.x)/s,f=(i.y-t.y)/s,d=o*l,p=o*f,v=u*l,y=u*f,g={x:e.x-d,y:e.y-p},x={x:e.x+v,y:e.y+y},b=a.A,m={x:b.x+(g.x-b.x)/(1-r),y:b.y+(g.y-b.y)/(1-r)},w={x:b.x+(x.x-b.x)/r,y:b.y+(x.y-b.y)/r},_={x:t.x+(m.x-t.x)/r,y:t.y+(m.y-t.y)/r},k={x:i.x+(w.x-i.x)/(1-r),y:i.y+(w.y-i.y)/(1-r)};return new h(t,_,k,i)};var d=function(){return c};h.getUtils=d,h.prototype={getUtils:d,valueOf:function(){return this.toString()},toString:function(){return c.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,n=e[0].x,i=e[0].y,r=["M",n,i,2===this.order?"Q":"C"],o=1,a=e.length;o<a;o++)r.push(e[o].x),r.push(e[o].y);return r.join(" ")},update:function(){this.dpoints=[];for(var t=this.points,e=t.length,n=e-1;e>1;e--,n--){for(var i,r=[],o=0;o<n;o++)i={x:n*(t[o+1].x-t[o].x),y:n*(t[o+1].y-t[o].y)},this._3d&&(i.z=n*(t[o+1].z-t[o].z)),r.push(i);this.dpoints.push(r),t=r}this.computedirection()},computedirection:function(){var t=this.points,e=c.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return c.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[];for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var n,i=this.getLUT(),r=[],o=0,a=0;a<i.length;a++)n=i[a],c.dist(n,t)<e&&(r.push(n),o+=a/i.length);return!!r.length&&(o/=r.length)},project:function(t){var e=this.getLUT(),n=e.length-1,i=c.closest(e,t),r=i.mdist,o=i.mpos;if(0===o||o===n){var a=o/n,u=this.compute(a);return u.t=a,u.d=r,u}var s,a,l,f,h=(o-1)/n,d=(o+1)/n,p=.1/n;for(r+=1,a=h,s=a;a<d+p;a+=p)l=this.compute(a),f=c.dist(t,l),f<r&&(r=f,s=a);return l=this.compute(s),l.t=s,l.d=r,l},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var e=this.points,n=1-t;if(1===this.order)return c={x:n*e[0].x+t*e[1].x,y:n*e[0].y+t*e[1].y},this._3d&&(c.z=n*e[0].z+t*e[1].z),c;if(this.order<4){var i,r,o,a=n*n,u=t*t,s=0;2===this.order?(e=[e[0],e[1],e[2],l],i=a,r=n*t*2,o=u):3===this.order&&(i=a*n,r=a*t*3,o=n*u*3,s=t*u);var c={x:i*e[0].x+r*e[1].x+o*e[2].x+s*e[3].x,y:i*e[0].y+r*e[1].y+o*e[2].y+s*e[3].y};return this._3d&&(c.z=i*e[0].z+r*e[1].z+o*e[2].z+s*e[3].z),c}for(var f=JSON.parse(JSON.stringify(this.points));f.length>1;){for(var h=0;h<f.length-1;h++)f[h]={x:f[h].x+(f[h+1].x-f[h].x)*t,y:f[h].y+(f[h+1].y-f[h].y)*t},"undefined"!=typeof f[h].z&&(f[h]=f[h].z+(f[h+1].z-f[h].z)*t);f.splice(f.length-1,1)}return f[0]},raise:function(){for(var t,e,n,i=this.points,r=[i[0]],o=i.length,t=1;t<o;t++)e=i[t],n=i[t-1],r[t]={x:(o-t)/o*e.x+t/o*n.x,y:(o-t)/o*e.y+t/o*n.y};return r[o]=i[o-1],new h(r)},derivative:function(t){var e,n,i=1-t,r=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],l],e=i,n=t),3===this.order&&(e=i*i,n=i*t*2,r=t*t);var a={x:e*o[0].x+n*o[1].x+r*o[2].x,y:e*o[0].y+n*o[1].y+r*o[2].y};return this._3d&&(a.z=e*o[0].z+n*o[1].z+r*o[2].z),a},inflections:function(){return c.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),n=u(e.x*e.x+e.y*e.y);return{x:-e.y/n,y:e.x/n}},__normal3:function(t){var e=this.derivative(t),n=this.derivative(t+.01),i=u(e.x*e.x+e.y*e.y+e.z*e.z),r=u(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=i,e.y/=i,e.z/=i,n.x/=r,n.y/=r,n.z/=r;var o={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},a=u(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z],l={x:s[0]*e.x+s[1]*e.y+s[2]*e.z,y:s[3]*e.x+s[4]*e.y+s[5]*e.z,z:s[6]*e.x+s[7]*e.y+s[8]*e.z};return l},hull:function(t){var e,n=this.points,i=[],r=[],o=0,a=0,u=0;for(r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],3===this.order&&(r[o++]=n[3]);n.length>1;){for(i=[],a=0,u=n.length-1;a<u;a++)e=c.lerp(t,n[a],n[a+1]),r[o++]=e,i.push(e);n=i}return r},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var n=this.hull(t),i={left:new h(2===this.order?[n[0],n[3],n[5]]:[n[0],n[4],n[7],n[9]]),right:new h(2===this.order?[n[5],n[4],n[2]]:[n[9],n[8],n[6],n[3]]),span:n};if(i.left._t1=c.map(0,0,1,this._t1,this._t2),i.left._t2=c.map(t,0,1,this._t1,this._t2),i.right._t1=c.map(t,0,1,this._t1,this._t2),i.right._t2=c.map(1,0,1,this._t1,this._t2),!e)return i;e=c.map(e,t,1,0,1);var r=i.right.split(e);return r.left},extrema:function(){var t,e,n=this.dims,i={},r=[];return n.forEach(function(n){e=function(t){return t[n]},t=this.dpoints[0].map(e),i[n]=c.droots(t),3===this.order&&(t=this.dpoints[1].map(e),i[n]=i[n].concat(c.droots(t))),i[n]=i[n].filter(function(t){return t>=0&&t<=1}),r=r.concat(i[n].sort())}.bind(this)),r=r.sort().filter(function(t,e){return r.indexOf(t)===e}),i.values=r,i},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(n){e[n]=c.getminmax(this,n,t[n])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),n=t.bbox();return c.bboxoverlap(e,n)},offset:function(t,e){if("undefined"!=typeof e){var n=this.get(t),i=this.normal(t),r={c:n,n:i,x:n.x+i.x*e,y:n.y+i.y*e};return this._3d&&(r.z=n.z+i.z*e),r}if(this._linear){var o=this.normal(0),a=this.points.map(function(e){var n={x:e.x+t*o.x,y:e.y+t*o.y};return e.z&&i.z&&(n.z=e.z+t*o.z),n});return[new h(a)]}var u=this.reduce();return u.map(function(e){return e.scale(t)})},simple:function(){if(3===this.order){var t=c.angle(this.points[0],this.points[3],this.points[1]),e=c.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var n=this.normal(0),r=this.normal(1),o=n.x*r.x+n.y*r.y;this._3d&&(o+=n.z*r.z);var u=i(a(o));return u<s/3},reduce:function(){var t,e,n=0,r=0,o=.01,a=[],u=[],s=this.extrema().values;for(s.indexOf(0)===-1&&(s=[0].concat(s)),s.indexOf(1)===-1&&s.push(1),n=s[0],t=1;t<s.length;t++)r=s[t],e=this.split(n,r),e._t1=n,e._t2=r,a.push(e),n=r;return a.forEach(function(t){for(n=0,r=0;r<=1;)for(r=n+o;r<=1+o;r+=o)if(e=t.split(n,r),!e.simple()){if(r-=o,i(n-r)<o)return[];e=t.split(n,r),e._t1=c.map(n,0,1,t._t1,t._t2),e._t2=c.map(r,0,1,t._t1,t._t2),u.push(e),n=r;break}n<1&&(e=t.split(n,1),e._t1=c.map(n,0,1,t._t1,t._t2),e._t2=t._t2,u.push(e))}),u},scale:function(t){var e=this.order,n=!1;if("function"==typeof t&&(n=t),n&&2===e)return this.raise().scale(n);var i=this.clockwise,r=n?n(0):t,o=n?n(1):t,a=[this.offset(0,10),this.offset(1,10)],s=c.lli4(a[0],a[0].c,a[1],a[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var l=this.points,f=[];return[0,1].forEach(function(t){var n=f[t*e]=c.copy(l[t*e]);n.x+=(t?o:r)*a[t].n.x,n.y+=(t?o:r)*a[t].n.y}.bind(this)),n?([0,1].forEach(function(r){if(2!==this.order||!r){var o=l[r+1],a={x:o.x-s.x,y:o.y-s.y},c=n?n((r+1)/e):t;n&&!i&&(c=-c);var h=u(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,f[r+1]={x:o.x+c*a.x,y:o.y+c*a.y}}}.bind(this)),new h(f)):([0,1].forEach(function(t){if(2!==this.order||!t){var n=f[t*e],i=this.derivative(t),r={x:n.x+i.x,y:n.y+i.y};f[t+1]=c.lli4(n,r,s,l[t+1])}}.bind(this)),new h(f))},outline:function(t,e,n,i){function r(t,e,n,i,r){return function(o){var a=i/n,u=(i+r)/n,s=e-t;return c.map(o,0,1,t+a*s,t+u*s)}}e="undefined"==typeof e?t:e;var o,a=this.reduce(),u=a.length,s=[],l=[],h=0,d=this.length(),p="undefined"!=typeof n&&"undefined"!=typeof i;a.forEach(function(o){_=o.length(),p?(s.push(o.scale(r(t,n,d,h,_))),l.push(o.scale(r(-e,-i,d,h,_)))):(s.push(o.scale(t)),l.push(o.scale(-e))),h+=_}),l=l.map(function(t){return o=t.points,o[3]?t.points=[o[3],o[2],o[1],o[0]]:t.points=[o[2],o[1],o[0]],t}).reverse();var v=s[0].points[0],y=s[u-1].points[s[u-1].points.length-1],g=l[u-1].points[l[u-1].points.length-1],x=l[0].points[0],b=c.makeline(g,v),m=c.makeline(y,x),w=[b].concat(s).concat([m]).concat(l),_=w.length;return new f(w)},outlineshapes:function(t,e,n){e=e||t;for(var i=this.outline(t,e).curves,r=[],o=1,a=i.length;o<a/2;o++){var u=c.makeshape(i[o],i[a-o],n);u.startcap.virtual=o>1,u.endcap.virtual=o<a/2-1,r.push(u)}return r},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof h&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=r(t.p1.x,t.p2.x),n=r(t.p1.y,t.p2.y),i=o(t.p1.x,t.p2.x),a=o(t.p1.y,t.p2.y),u=this;return c.roots(this.points,t).filter(function(t){var r=u.get(t);return c.between(r.x,e,i)&&c.between(r.y,n,a)})},selfintersects:function(t){var e,n,i,r,o=this.reduce(),a=o.length-2,u=[];for(e=0;e<a;e++)i=o.slice(e,e+1),r=o.slice(e+2),n=this.curveintersects(i,r,t),u=u.concat(n);return u},curveintersects:function(t,e,n){var i=[];t.forEach(function(t){e.forEach(function(e){t.overlaps(e)&&i.push({left:t,right:e})})});var r=[];return i.forEach(function(t){var e=c.pairiteration(t.left,t.right,n);e.length>0&&(r=r.concat(e))}),r},arcs:function(t){t=t||.5;var e=[];return this._iterate(t,e)},_error:function(t,e,n,r){var o=(r-n)/4,a=this.get(n+o),u=this.get(r-o),s=c.dist(t,e),l=c.dist(t,a),f=c.dist(t,u);return i(l-s)+i(f-s)},_iterate:function(t,e){var n,i=0,r=1;do{n=0,r=1;var o,a,u,s,l,f=this.get(i),h=!1,d=!1,p=r,v=1,y=0;do{d=h,s=u,p=(i+r)/2,y++,o=this.get(p),a=this.get(r),u=c.getccenter(f,o,a),u.interval={start:i,end:r};var g=this._error(u,f,i,r);if(h=g<=t,l=d&&!h,l||(v=r),h){if(r>=1){u.interval.end=v=1,s=u;break}r+=(r-i)/2}else r=p}while(!l&&n++<100);if(n>=100)break;s=s?s:u,e.push(s),i=v}while(r<1);return e}},e.exports=h}()},{"./poly-bezier.js":3,"./utils.js":4}],3:[function(t,e,n){!function(){var n=t("./utils.js"),i=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};i.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return n.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,e){return t+e})},curve:function(t){return this.curves[t]},bbox:function t(){for(var e=this.curves,t=e[0].bbox(),i=1;i<e.length;i++)n.expandbox(t,e[i].bbox());return t},offset:function t(e){var t=[];return this.curves.forEach(function(n){t=t.concat(n.offset(e))}),new i(t)}},e.exports=i}()},{"./utils.js":4}],4:[function(t,e,n){!function(){var n=Math.abs,i=Math.cos,r=Math.sin,o=Math.acos,a=Math.atan2,u=Math.sqrt,s=Math.pow,l=function(t){return t<0?-s(-t,1/3):s(t,1/3)},c=Math.PI,f=2*c,h=c/2,d=1e-6,p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,y={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var n=e(t),i=n.x*n.x+n.y*n.y;return"undefined"!=typeof n.z&&(i+=n.z*n.z),u(i)},between:function(t,e,n){return e<=t&&t<=n||y.approximately(t,e)||y.approximately(t,n)},approximately:function(t,e,i){return n(t-e)<=(i||d)},length:function(t){var e,n,i=.5,r=0,o=y.Tvalues.length;for(e=0;e<o;e++)n=i*y.Tvalues[e]+i,r+=y.Cvalues[e]*y.arcfn(n,t);return i*r},map:function(t,e,n,i,r){var o=n-e,a=r-i,u=t-e,s=u/o;return i+a*s},lerp:function(t,e,n){var i={x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)};return e.z&&n.z&&(i.z=e.z+t*(n.z-e.z)),i},pointToString:function(t){var e=t.x+"/"+t.y;return"undefined"!=typeof t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(y.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,u=n.y-t.y,s=i*u-r*o,l=i*o+r*u;return a(s,l)},round:function(t,e){var n=""+t,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(t,e){var n=t.x-e.x,i=t.y-e.y;return u(n*n+i*i)},closest:function(t,e){var n,i,r=s(2,63);return t.forEach(function(t,o){i=y.dist(e,t),i<r&&(r=i,n=o)}),{mdist:r,mpos:n}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var i=s(t,e)+s(1-t,e),r=i-1;return n(r/i)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var n=s(1-t,e),i=s(t,e)+n;return n/i},lli8:function(t,e,n,i,r,o,a,u){var s=(t*i-e*n)*(r-a)-(t-n)*(r*u-o*a),l=(t*i-e*n)*(o-u)-(e-i)*(r*u-o*a),c=(t-n)*(o-u)-(e-i)*(r-a);return 0!=c&&{x:s/c,y:l/c}},lli4:function(t,e,n,i){var r=t.x,o=t.y,a=e.x,u=e.y,s=n.x,l=n.y,c=i.x,f=i.y;return y.lli8(r,o,a,u,s,l,c,f)},lli:function(t,e){return y.lli4(t,t.c,e,e.c)},makeline:function(e,n){var i=t("./bezier"),r=e.x,o=e.y,a=n.x,u=n.y,s=(a-r)/3,l=(u-o)/3;return new i(r,o,r+s,o+l,r+2*s,o+2*l,a,u)},findbbox:function(t){var e=p,n=p,i=v,r=v;return t.forEach(function(t){var o=t.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),i<o.x.max&&(i=o.x.max),r<o.y.max&&(r=o.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+r)/2,max:r,size:r-n}}},shapeintersections:function(t,e,n,i,r){if(!y.bboxoverlap(e,i))return[];var o=[],a=[t.startcap,t.forward,t.back,t.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return a.forEach(function(e){e.virtual||u.forEach(function(i){if(!i.virtual){var a=e.intersects(i,r);a.length>0&&(a.c1=e,a.c2=i,a.s1=t,a.s2=n,o.push(a))}})}),o},makeshape:function(t,e,n){var i=e.points.length,r=t.points.length,o=y.makeline(e.points[i-1],t.points[0]),a=y.makeline(t.points[r-1],e.points[0]),u={startcap:o,forward:t,back:e,endcap:a,bbox:y.findbbox([o,t,e,a])},s=y;return u.intersections=function(t){return s.shapeintersections(u,u.bbox,t,t.bbox,n)},u},getminmax:function(t,e,n){if(!n)return{min:0,max:0};var i,r,o=p,a=v;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(var u=0,s=n.length;u<s;u++)i=n[u],r=t.get(i),r[e]<o&&(o=r[e]),r[e]>a&&(a=r[e]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(t,e){var n=e.p1.x,o=e.p1.y,u=-a(e.p2.y-o,e.p2.x-n),s=function(t){return{x:(t.x-n)*i(u)-(t.y-o)*r(u),y:(t.x-n)*r(u)+(t.y-o)*i(u)}};return t.map(s)},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=t.length-1,r=y.align(t,e),a=function(t){return 0<=t&&t<=1};if(2===n){var s=r[0].y,c=r[1].y,h=r[2].y,d=s-2*c+h;if(0!==d){var p=-u(c*c-s*h),v=-s+c,g=-(p+v)/d,x=-(-p+v)/d;return[g,x].filter(a)}return c!==h&&0===d?[(2*c-h)/2*(c-h)].filter(a):[]}var b,g,m,w,_,k=r[0].y,P=r[1].y,S=r[2].y,C=r[3].y,d=-k+3*P-3*S+C,s=(3*k-6*P+3*S)/d,c=(-3*k+3*P)/d,h=k/d,r=(3*c-s*s)/3,A=r/3,O=(2*s*s*s-9*s*c+27*h)/27,T=O/2,M=T*T+A*A*A;if(M<0){var z=-r/3,W=z*z*z,j=u(W),E=-O/(2*j),B=E<-1?-1:E>1?1:E,R=o(B),I=l(j),D=2*I;return m=D*i(R/3)-s/3,w=D*i((R+f)/3)-s/3,_=D*i((R+2*f)/3)-s/3,[m,w,_].filter(a)}if(0===M)return b=T<0?l(-T):-l(T),m=2*b-s/3,w=-b-s/3,[m,w].filter(a);var L=u(M);return b=l(-T+L),g=l(T+L),[b-g-s/3].filter(a)},droots:function(t){if(3===t.length){var e=t[0],n=t[1],i=t[2],r=e-2*n+i;if(0!==r){var o=-u(n*n-e*i),a=-e+n,s=-(o+a)/r,l=-(-o+a)/r;return[s,l]}return n!==i&&0===r?[(2*n-i)/(2*(n-i))]:[]}if(2===t.length){var e=t[0],n=t[1];return e!==n?[e/(e-n)]:[]}},inflections:function(t){if(t.length<4)return[];var e=y.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,r=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*n+2*i+3*r-o),u=18*(3*n-i-3*r),s=18*(r-n);if(y.approximately(a,0)){if(!y.approximately(u,0)){var l=-s/u;if(0<=l&&l<=1)return[l]}return[]}var c=u*u-4*a*s,f=Math.sqrt(c),o=2*a;return y.approximately(o,0)?[]:[(f-u)/o,-(u+f)/o].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,e){var i,r,o,a,u,s=["x","y"],l=s.length;for(i=0;i<l;i++)if(r=s[i],o=t[r].mid,a=e[r].mid,u=(t[r].size+e[r].size)/2,n(o-a)>=u)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,n){var i=t.bbox(),r=e.bbox(),o=1e5,a=n||.5;if(i.x.size+i.y.size<a&&r.x.size+r.y.size<a)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];var u=t.split(.5),s=e.split(.5),l=[{left:u.left,right:s.left},{left:u.left,right:s.right},{left:u.right,right:s.right},{left:u.right,right:s.left}];l=l.filter(function(t){return y.bboxoverlap(t.left.bbox(),t.right.bbox())});var c=[];return 0===l.length?c:(l.forEach(function(t){c=c.concat(y.pairiteration(t.left,t.right,a))}),c=c.filter(function(t,e){return c.indexOf(t)===e}))},getccenter:function(t,e,n){var o,u=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,d=u*i(h)-s*r(h),p=u*r(h)+s*i(h),v=l*i(h)-c*r(h),g=l*r(h)+c*i(h),x=(t.x+e.x)/2,b=(t.y+e.y)/2,m=(e.x+n.x)/2,w=(e.y+n.y)/2,_=x+d,k=b+p,P=m+v,S=w+g,C=y.lli8(x,b,_,k,m,w,P,S),A=y.dist(C,t),O=a(t.y-C.y,t.x-C.x),T=a(e.y-C.y,e.x-C.x),M=a(n.y-C.y,n.x-C.x);return O<M?((O>T||T>M)&&(O+=f),O>M&&(o=M,M=O,O=o)):M<T&&T<O?(o=M,M=O,O=o):M+=f,C.s=O,C.e=M,C.r=A,C}};e.exports=y}()},{"./bezier":2}],5:[function(t,e,n){var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"init",value:function(t,e,n){if(this.mixins=t,this.context=e,this.opt={warn:!0,mergeDuplicates:!0},this.contextMethods=Object.getOwnPropertyNames(this.context.constructor.prototype),this.reactMethods=["componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],n&&(this.opt.warn=void 0!==n.warn?n.warn:this.opt.warn,this.opt.mergeDuplicates=void 0!==n.mergeDuplicates?n.mergeDuplicates:this.opt.mergeDuplicates),this.mixins.constructor===Array)t.map(function(t){this.grabMethods(t)},this);else{if("function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof2(t)))throw"mixins expects a function, an array, or an object. Please and thank you";this.grabMethods(t)}}},{key:"addNewMethod",value:function(t,e){this.mixins.prototype?this.context.constructor.prototype[t]=this.mixins.prototype[t]:this.context.constructor.prototype[t]="object"===("undefined"==typeof e?"undefined":_typeof2(e))?e[t]:e.prototype[t],this.contextMethods=Object.getOwnPropertyNames(this.context.constructor.prototype)}},{key:"extendMethod",value:function(t,e,n){var i=this.context[e],r="object"===("undefined"==typeof n?"undefined":_typeof2(n))?n[t]:n.prototype[t];this.context[t]=function(){r.call(this,arguments),i.call(this,arguments)}}},{key:"grabMethods",value:function(t){var e=this,n=t,i="object"===("undefined"==typeof t?"undefined":_typeof2(t))?Object.getOwnPropertyNames(t):Object.getOwnPropertyNames(t.prototype);i.map(function(t){"constructor"!==t&&"render"!==t&&e.checkForMatch(t,n)},this)}},{key:"checkForMatch",value:function(t,e){var n=this;this.contextMethods.map(function(i){t===i&&(n.reactMethods.indexOf(t)>-1?n.extendMethod(t,i,e):(n.opt.warn&&console.warn(t+" method already exists within the "+n.context.constructor.name+" component."),n.opt.mergeDuplicates&&n.extendMethod(t,i,e)))}),this.addNewMethod(t,e)}}]),t}(),a=new o;e.exports=a.init.bind(a)},{}],6:[function(e,n,i){(function(r){!function(e){if("object"===("undefined"==typeof i?"undefined":_typeof2(i))&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.Ez=e()}}(function(){return function t(n,i,r){function o(u,s){if(!i[u]){if(!n[u]){var l="function"==typeof e&&e;if(!s&&l)return l(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return o(e?e:t)},f,f.exports,t,n,i,r)}return i[u].exports}for(var a="function"==typeof e&&e,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){function i(t,e,n,i){return n*(t/=i)*t+e}function r(t,e,n,i){return-n*(t/=i)*(t-2)+e}function o(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function a(t,e,n,i){return n*(t/=i)*t*t+e}function u(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function s(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function l(t,e,n,i){return n*(t/=i)*t*t*t+e}function c(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}function f(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function h(t,e,n,i){return n*(t/=i)*t*t*t*t+e}function d(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e}function p(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function v(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function y(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e}function g(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}function x(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e}function b(t,e,n,i){return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e}function m(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e}function w(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e}function _(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e}function k(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function P(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+e}function S(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/o)+n+e}function C(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(2==(t/=i/2))return e+n;if(o||(o=i*(.3*1.5)),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*.5+n+e}function A(t,e,n,i,r){return void 0==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e}function O(t,e,n,i,r){return void 0==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}function T(t,e,n,i,r){return void 0==r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*(((r*=1.525)+1)*t-r))+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e}function M(t,e,n,i){return n-z(i-t,0,n,i)+e}function z(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function W(t,e,n,i){return t<i/2?.5*M(2*t,0,n,i)+e:.5*z(2*t-i,0,n,i)+.5*n+e}Object.defineProperty(n,"__esModule",{value:!0}),n.easeInQuad=i,n.easeOutQuad=r,n.easeInOutQuad=o,n.easeInCubic=a,n.easeOutCubic=u,n.easeInOutCubic=s,n.easeInQuart=l,n.easeOutQuart=c,n.easeInOutQuart=f,n.easeInQuint=h,n.easeOutQuint=d,n.easeInOutQuint=p,n.easeInSine=v,n.easeOutSine=y,n.easeInOutSine=g,n.easeInExpo=x,n.easeOutExpo=b,n.easeInOutExpo=m,n.easeInCirc=w,n.easeOutCirc=_,n.easeInOutCirc=k,n.easeInElastic=P,n.easeOutElastic=S,n.easeInOutElastic=C,n.easeInBack=A,n.easeOutBack=O,n.easeInOutBack=T,n.easeInBounce=M,n.easeOutBounce=z,n.easeInOutBounce=W},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){function i(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).map(function(t){t(n)}),(t["*"]||[]).map(function(t){t(e,n)})}}}e.exports=i},{}],8:[function(t,e,n){(function(t){(function(){var n,i,r,o,a,u;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},o=n(),u=1e9*t.uptime(),a=o-u):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:9}],9:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===i||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function u(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&s())}function s(){if(!y){var t=o(u);y=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,y=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f,h,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:i}catch(t){f=i}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,v=[],y=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new l(t,e)),1!==v.length||y||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],10:[function(e,n,i){!function(e){function i(t,e){if(t=t?t:"",e=e||{},t instanceof i)return t;if(!(this instanceof i))return new i(t,e);var n=r(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=X(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=X(this._r)),this._g<1&&(this._g=X(this._g)),this._b<1&&(this._b=X(this._b)),this._ok=n.ok,this._tc_id=F++}function r(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,a=null,s=!1,c=!1;return"string"==typeof t&&(t=D(t)),"object"==("undefined"==typeof t?"undefined":_typeof2(t))&&(I(t.r)&&I(t.g)&&I(t.b)?(e=o(t.r,t.g,t.b),s=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):I(t.h)&&I(t.s)&&I(t.v)?(i=E(t.s),r=E(t.v),e=l(t.h,i,r),s=!0,c="hsv"):I(t.h)&&I(t.s)&&I(t.l)&&(i=E(t.s),a=E(t.l),e=u(t.h,i,a),s=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=A(n),{ok:s,format:t.format||c,r:U(255,q(e.r,0)),g:U(255,q(e.g,0)),b:U(255,q(e.b,0)),a:n}}function o(t,e,n){return{r:255*O(t,255),g:255*O(e,255),b:255*O(n,255)}}function a(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,o=q(t,e,n),a=U(t,e,n),u=(o+a)/2;if(o==a)i=r=0;else{var s=o-a;switch(r=u>.5?s/(2-o-a):s/(o+a),o){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4}i/=6}return{h:i,s:r,l:u}}function u(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)r=o=a=n;else{var u=n<.5?n*(1+e):n+e-n*e,s=2*n-u;r=i(s,u,t+1/3),o=i(s,u,t),a=i(s,u,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function s(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,o=q(t,e,n),a=U(t,e,n),u=o,s=o-a;if(r=0===o?0:s/o,o==a)i=0;else{switch(o){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4}i/=6}return{h:i,s:r,v:u}}function l(t,n,i){t=6*O(t,360),n=O(n,100),i=O(i,100);var r=e.floor(t),o=t-r,a=i*(1-n),u=i*(1-o*n),s=i*(1-(1-o)*n),l=r%6,c=[i,u,a,a,s,i][l],f=[s,i,i,u,a,a][l],h=[a,a,s,i,i,u][l];return{r:255*c,g:255*f,b:255*h}}function c(t,e,n,i){var r=[j(X(t).toString(16)),j(X(e).toString(16)),j(X(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,n,i,r){var o=[j(X(t).toString(16)),j(X(e).toString(16)),j(X(n).toString(16)),j(B(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h(t,e,n,i){
var r=[j(B(i)),j(X(t).toString(16)),j(X(e).toString(16)),j(X(n).toString(16))];return r.join("")}function d(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s-=e/100,n.s=T(n.s),i(n)}function p(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s+=e/100,n.s=T(n.s),i(n)}function v(t){return i(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l+=e/100,n.l=T(n.l),i(n)}function g(t,e){e=0===e?0:e||10;var n=i(t).toRgb();return n.r=q(0,U(255,n.r-X(255*-(e/100)))),n.g=q(0,U(255,n.g-X(255*-(e/100)))),n.b=q(0,U(255,n.b-X(255*-(e/100)))),i(n)}function x(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l-=e/100,n.l=T(n.l),i(n)}function b(t,e){var n=i(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,i(n)}function m(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+120)%360,s:e.s,l:e.l}),i({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+90)%360,s:e.s,l:e.l}),i({h:(n+180)%360,s:e.s,l:e.l}),i({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+72)%360,s:e.s,l:e.l}),i({h:(n+216)%360,s:e.s,l:e.l})]}function P(t,e,n){e=e||6,n=n||30;var r=i(t).toHsl(),o=360/n,a=[i(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(i(r));return a}function S(t,e){e=e||6;for(var n=i(t).toHsv(),r=n.h,o=n.s,a=n.v,u=[],s=1/e;e--;)u.push(i({h:r,s:o,v:a})),a=(a+s)%1;return u}function C(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,n){z(t)&&(t="100%");var i=W(t);return t=U(n,q(0,parseFloat(t))),i&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function T(t){return U(1,q(0,t))}function M(t){return parseInt(t,16)}function z(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function W(t){return"string"==typeof t&&t.indexOf("%")!=-1}function j(t){return 1==t.length?"0"+t:""+t}function E(t){return t<=1&&(t=100*t+"%"),t}function B(t){return e.round(255*parseFloat(t)).toString(16)}function R(t){return M(t)/255}function I(t){return!!Y.CSS_UNIT.exec(t)}function D(t){t=t.replace(N,"").replace(H,"").toLowerCase();var e=!1;if(V[t])t=V[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(t))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:R(n[4]),format:e?"name":"hex8"}:(n=Y.hex6.exec(t))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:e?"name":"hex"}:(n=Y.hex4.exec(t))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:R(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=Y.hex3.exec(t))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:e?"name":"hex"}}function L(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var N=/^\s+/,H=/\s+$/,F=0,X=e.round,U=e.min,q=e.max,G=e.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,i,r,o,a,u=this.toRgb();return t=u.r/255,n=u.g/255,i=u.b/255,r=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(t){return this._a=A(t),this._roundA=X(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=X(360*t.h),n=X(100*t.s),i=X(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=X(360*t.h),n=X(100*t.s),i=X(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return c(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:X(this._r),g:X(this._g),b:X(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+X(this._r)+", "+X(this._g)+", "+X(this._b)+")":"rgba("+X(this._r)+", "+X(this._g)+", "+X(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:X(100*O(this._r,255))+"%",g:X(100*O(this._g,255))+"%",b:X(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+X(100*O(this._r,255))+"%, "+X(100*O(this._g,255))+"%, "+X(100*O(this._b,255))+"%)":"rgba("+X(100*O(this._r,255))+"%, "+X(100*O(this._g,255))+"%, "+X(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(J[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=i(t);n="#"+h(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},i.fromRatio=function(t,e){if("object"==("undefined"==typeof t?"undefined":_typeof2(t))){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=E(t[r]));t=n}return i(t,e)},i.equals=function(t,e){return!(!t||!e)&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:G(),g:G(),b:G()})},i.mix=function(t,e,n){n=0===n?0:n||50;var r=i(t).toRgb(),o=i(e).toRgb(),a=n/100,u={r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a};return i(u)},i.readability=function(t,n){var r=i(t),o=i(n);return(e.max(r.getLuminance(),o.getLuminance())+.05)/(e.min(r.getLuminance(),o.getLuminance())+.05)},i.isReadable=function(t,e,n){var r,o,a=i.readability(t,e);switch(o=!1,r=L(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},i.mostReadable=function(t,e,n){var r,o,a,u,s=null,l=0;n=n||{},o=n.includeFallbackColors,a=n.level,u=n.size;for(var c=0;c<e.length;c++)r=i.readability(t,e[c]),r>l&&(l=r,s=i(e[c]));return i.isReadable(t,s,{level:a,size:u})||!o?s:(n.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],n))};var V=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},J=i.hexNames=C(V),Y=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof n&&n.exports?n.exports=i:"function"==typeof t&&t.amd?t(function(){return i}):window.tinycolor=i}(Math)},{}],11:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("es6-mixins"),f=i(c),h=t("../util/helper"),d=t("../util/randomColor"),p=i(d),v=t("../util/wxCanvas"),y=(i(v),t("./wxChart")),g=i(y),x=t("../core/title"),b=i(x),m=t("../core/scale"),w=(i(m),t("../scale/scale.liner")),_=i(w),k=t("../scale/scale.crosshelp"),P=i(k),S=t("../scale/scale.stackhelp"),C=i(S),A=t("../scale/scale.category"),O=i(A),T=t("../core/legend"),M=i(T),z=t("../core/layout"),W=i(z),j=t("../core/animation"),E=i(j),B=t("tinycolor2"),R={borderWidth:1,fillArea:!0,fillAlpha:.5,display:!0,barPercentage:.8},I={minBetweenPixel:5,pointPercentage:.8,stacked:!1,zeroLine:!1,xScaleOptions:{position:"bottom"},xScaleItemOptions:void 0,yScaleOptions:{position:"left"},yScaleItemOptions:void 0,crossScaleOptions:{xMargin:function(t,e,n,i,r,o){return i.calculateTickWidth(o,t)},xFirstPointSpace:0},title:void 0,legends:[],legendOptions:{position:"bottom"},point:{},color:{hue:"red",luminosity:"light"},defaultKey:"value",animate:!0,animateOptions:{start:1,end:1001,duration:1e3}},D={showItem:!0,display:!0},L=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.__drawBar=function(t,e,n,r,o,a,u){var s=i.ctx,l=void 0,c=void 0,f=void 0,d=void 0,p=t.value,v=t.data,y=(t.point,t.index),g=r.borderWidth,x=r.fillStyle,b=r.strokeStyle,m=r.fillArea,w=r.fillAlpha,_=v.showItem,k=v.format,P=v.label;if(!t||!t.point)return{px:l,py:c,width:f,height:d};var S=t.point,C=S.x,A=S.y,O=S.barWidth,T=S.barHeight;if(o&&a?(f=O,d=T*e,l=C,c=A+T/2-d/2):(l=C,f=O,d=T*e,c=A+T*(1-e)),s.save(),s.fillStyle=x,s.strokeStyle=b,s.lineWidth=g,m&&(s.beginPath(),s.globalAlpha=w,s.rect(l,c,f,d),s.fill(),s.globalAlpha=1),g&&(s.beginPath(),o&&a?s.rect(l,c,f,d):(s.moveTo(l,c+d),s.lineTo(l,c),s.lineTo(l+f,c),s.lineTo(l+f,c+d)),s.stroke()),u&&_&&!o){var M=s.fillStyle;s.textBaseline="bottom",s.fillStyle=B(M).darken(15).toString(),s.fillStyle=M;var z=h.is.Function(k)?k.call(i,P,p,y):t.value+"",W=(n.x,n.y,l+O/2-s.measureText(z).width/2),j=c-s.fontSize/4;W<n.x&&(W=n.x),j<n.y&&(j=n.y),s.fillText(z,W,j)}return s.draw(),s.restore(),{px:l,py:c,width:f,height:d}},(0,f.default)([C.default],i,{mergeDuplicates:!1});var r=i;return r.chartConfig=(0,h.extend)({},I,n),r.title=null,r.chartConfig.title&&(r.title=new b.default(r,h.is.PureObject(r.chartConfig.title)?r.chartConfig.title:null),r.titleText=h.is.String(r.chartConfig.title)?r.chartConfig.title:r.chartConfig.title.text),r.legend=new M.default(r,r.chartConfig.legendOptions),r.yAxis=new _.default(r,r.chartConfig.yScaleOptions),r.xAxis=new O.default(r,r.chartConfig.xScaleOptions),r.wxCrossScale=new P.default(r.xAxis,r.yAxis,r.chartConfig.crossScaleOptions),r.wxLayout=new W.default(r),r.chartConfig.animate&&(r.wxAnimation=new E.default(r.chartConfig.animateOptions)),r.emit("init",{options:r.chartConfig}),i}return u(e,t),s(e,[{key:"_getLegendConfig",value:function(){var t=this,e=t.chartConfig.defaultKey||"value",n=t.chartConfig.legends;if(n)n=n.map(function(t){return(0,h.extend)(!0,{key:e},t)});else{if(!t.labels||!t.labels.length)throw new Error("Can not get legend config!");n=t.labels.map(function(t){return{text:t,key:e}})}return n}},{key:"update",value:function(t){var n=this;return n._labels=null,n._legends=null,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,h.extend)({},D,n.chartConfig.point)),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw()}},{key:"draw",value:function(){var t=void 0,e=this,n=(e.ctx,e.chartConfig.animate),i=e.wxLayout,r=e.chartConfig,o=(r.pointPercentage,r.minBetweenPixel,r.stacked,r.color),a=r.zeroLine;e.emit("beforeDraw",{options:e.chartConfig}),t=i.adjustBox(),e.title&&(e.title.update(e.titleText,t),i.addBox(e.title.box)),t=i.adjustBox();var u=(0,p.default)((0,h.extend)(!0,{},o,{count:e.legends.length}));e.legends=e.legends.map(function(t,e){return t.strokeStyle||(t.strokeStyle=t.borderColor||B(u[e]).darken(10).toString()),(0,h.extend)(!0,{fillStyle:u[e]},R,t)}),e.legend.update(e.legends,t),i.addBox(e.legend.box),e._drawScale(i),t=i.adjustBox(),e.barRuler=e.calculateBarRuler();var s=!1,l=e.legends.map(function(n,i){var r={box:t,legend:n},o=n.key;return r.dataset=e.visDatasets.map(function(t,n){return s=s||t[o]<0,{value:t[o],data:t,point:e.calculateBarRect(n,i),index:n}}),r});l.forEach(function(t){return e.drawBar(t,s)}),n?(e.emit("animate",{animation:e.wxAnimation}),e.wxAnimation.run(!0),e.wxAnimation.on("done",function(){a&&e._darwZeroLine(),e.emit("draw",{options:l})})):(a&&e._darwZeroLine(),e.emit("draw",{options:l}))}},{key:"_darwZeroLine",value:function(){var t=this,e=t.ctx;e.save(),e.fillStyle=t.xAxis.config.color,e.lineWidth=t.xAxis.config.lineWidth;var n=t.yAxis.getPoint(0).y;e.beginPath(),e.moveTo(t.xAxis.getPoint(-1).x,n),e.lineTo(t.xAxis.box.ex,n),e.stroke(),e.restore()}},{key:"_getAnimationDrawBar",value:function(t,e){var n=this,i=n.config.backgroundColor,r=n.chartConfig.stacked,o=(n.chartConfig.animate,n.chartConfig.animateOptions),a=n.ctx,u=t.box,s=t.legend,l=t.dataset,c=s.display,f=s.borderWidth,h=(s.fillStyle,s.strokeStyle,s.fillArea,s.fillAlpha,l.length),d=(o.end-o.start)/h;if(c)return function(t,o,c){var p=Math.floor(t/d),v=p<h?l[p]:l[h-1],y=v.point,g=t%d/d;if(o){var x=o.dataIndex,b=o.percent,m=(o.t,o.x),w=o.y,_=o.width,k=o.height;if(x<h&&m&&(a.save(),i?(a.beginPath(),a.lineWidth=f,a.fillStyle=i?i:"#ffffff",a.strokeStyle=i?i:"#ffffff",a.fillRect(m,w,_,k)):a.clearRect(m,w,_,k),f&&(a.beginPath(),a.lineWidth=f+.5,a.fillStyle=i?i:"#ffffff",a.strokeStyle=i?i:"#ffffff",r&&e?a.rect(m,w,_,k):(a.moveTo(m,w+k),a.lineTo(m,w),a.lineTo(m+_,w),a.lineTo(m+_,w+k)),a.stroke()),a.draw(),a.restore()),x!==p&&b){var P=x<h?l[x]:l[h-1];n.__drawBar(P,1,u,s,r,e,!0)}}var S=void 0,C=void 0,A=void 0,O=void 0;if(p<h&&(g||!y)){var T=n.__drawBar(v,g,u,s,r,e);S=T.px,C=T.py,A=T.width,O=T.height}return{dataIndex:p,percent:g,t:t,x:S,y:C,width:A,height:O}}}},{key:"_drawBar",value:function(t,e){var n=this,i=n.chartConfig.stacked,r=(n.ctx,t.box),o=t.legend,a=t.dataset,u=o.display;o.borderWidth,o.fillStyle,o.strokeStyle,o.fillArea,o.fillAlpha;u&&a.forEach(function(t){n.__drawBar(t,1,r,o,i,e,!0)})}},{key:"drawBar",value:function(t,e){var n=this,i=n.chartConfig.animate;if(i){var r=n._getAnimationDrawBar(t,e);n.wxAnimation.pushActions(r)}else n._drawBar(t,e)}},{key:"calculateBarRuler",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xAxis,e=this,n=void 0,i=e.chartConfig.barPercentage,o=e.chartConfig.pointPercentage,a=e.chartConfig.stacked,u=e.legends,s=u.length,l=t.calculateTickWidth(),c=l*o,f=(l-c)/2,d=0;if(i||(i=a?Math.max.apply(Math,r(u.map(function(t){return t.barPercentage||.8})))||.8:.8),n=Math.max.apply(Math,r([i*c].concat(u.map(function(t){return h.is.Number(t.barWidth)?t.barWidth:0})))),u.forEach(function(t){if(a)t.barWidth=n,t.barPercentage=i,t._standardPercentage=i/s;else{var e=void 0,r=t.barPercentage?t.barPercentage>1?1:t.barPercentage:i;t.barWidth?e=t.barWidth/l:(e=r/s,t.barWidth=c*e),d+=e,t._standardPercentage=e}}),d>1)throw Error("Bar's width too large!");a&&(d=i);var p=s>1?c*(1-d)/(s-1):c*(1-d);return{tickWidth:l,pointPercentage:o,pointWidth:c,pointIntervalWidth:f,legends:u,barIntervalWidth:p}}},{key:"calculateBarRect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.xAxis,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,r=this,o=r.chartConfig.stacked,a=r.barRuler||r.calculateBarRuler(n),u=r.legends[e];if(u){var s=r.legends.slice(0,e).reduce(function(t,e){return t+e.barWidth},0),l=r.visDatasets[t],c=u.key&&"undefined"!=typeof l[u.key]?l[u.key]:null;if(!h.is.Null(c)&&!h.is.Undefined(c)){var f=void 0,d=void 0,p=void 0,v=void 0,y=n.getPoint(t);if(o){f=y.x-a.pointWidth/2+a.barIntervalWidth/2,d=r._getStackPoint(t,e).y,p=u.barWidth;var g=i.getPoint(0).y;v=c<0?c/l.__sumNeg*(i.getPoint(l.__sumNeg).y-g):c/l.__sumPos*(g-i.getPoint(l.__sumPos).y),d=c<0?d-v:d}else f=y.x-a.pointWidth/2+s+a.barIntervalWidth/2*(e+1),d=i.getPoint(c).y,p=u.barWidth,v=y.y-d;return{x:f,y:d,barWidth:p,barHeight:v}}}}},{key:"_drawScale",value:function(t){var e=void 0,n=this;e=t.adjustBox();var i=n.xScaleAxisDatas(),r=n.yScaleAxisDatas(e),o=n.wxCrossScale.draw(e,i,r),a=o.xBox,u=o.yBox;t.addBox(a),t.addBox(u)}},{key:"yScaleAxisDatas",value:function(t){var e=this,n=e.chartConfig.stacked,i=e.ctx,r=e.chartConfig.yScaleItemOptions,o=e.yAxis.calculateTickLimit(t,i);if(n){var a=e.stackYScaleAxisLimit(),u=a.max,s=a.min;return e.yAxis.buildDatasets(u,s,o,void 0,r)}var l=this.visDatasets.reduce(function(t,n){var i=t.max,r=t.min;if(n.display){var o=e.legends.map(function(t){if(t.key)return n[t.key]||0}).concat(i,r);i=Math.max.apply(Math,o),r=Math.min.apply(Math,o)}return{max:i,min:r}},{max:0,min:0}),c=l.max,f=l.min;return e.yAxis.buildDatasets(c,f,o,void 0,r)}},{key:"xScaleAxisDatas",value:function(){var t=this,e=t.chartConfig.xScaleItemOptions,n=t.labels.map(function(t){var n={text:t};return"undefined"!=typeof e&&(n=(0,h.extend)(n,e)),n});return t.xAxis.buildDatasets(n)}},{key:"labels",get:function(){var t=this,e=void 0;return t._labels?t._labels:(e=t.chartConfig.labels)&&h.is.Array(e)?e:(t._labels=t.visDatasets.map(function(t){return t.label}),t._labels)}},{key:"legends",get:function(){var t=this;return t._legends||(t._legends=t._getLegendConfig()),t._legends},set:function(t){this._legends=t}}]),e}(g.default);n.default=L},{"../core/animation":15,"../core/layout":17,"../core/legend":18,"../core/scale":19,"../core/title":20,"../scale/scale.category":21,"../scale/scale.crosshelp":22,"../scale/scale.liner":23,"../scale/scale.stackhelp":24,"../util/helper":25,"../util/randomColor":27,"../util/wxCanvas":29,"./wxChart":14,"es6-mixins":5,tinycolor2:10}],12:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=t("../util/wxCanvas"),c=(i(l),t("./wxChart")),f=i(c),h=t("../core/title"),d=i(h),p=t("../core/layout"),v=i(p),y=t("../core/legend"),g=i(y),x=t("../util/randomColor"),b=i(x),m=t("../util/helper"),w=t("../core/animation"),_=i(w),k={legendOptions:{position:"bottom"},cutoutPercentage:50,rotation:Math.PI*-.5,color:{hue:"red",luminosity:"light"},point:{},title:void 0,borderWidth:2,padding:void 0,labelDistancePercentage:.15,animate:!0,animateOptions:{start:1,end:501,duration:1e3}},P={showItem:!0,display:!0,fontSize:11,percentage:100},S=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=i;return a.chartConfig=(0,m.extend)({},k,n),a.title=null,a.chartConfig.title&&(a.title=new d.default(a,m.is.PureObject(a.chartConfig.title)?a.chartConfig.title:null),a.titleText=m.is.String(a.chartConfig.title)?a.chartConfig.title:a.chartConfig.title.text),a.legend=new g.default(a,a.chartConfig.legendOptions),a.wxLayout=new v.default(a),a.chartConfig.animate&&(a.wxAnimation=new _.default(a.chartConfig.animateOptions)),a.emit("init",{options:a.chartConfig}),i}return a(e,t),u(e,[{key:"update",value:function(t){var n=this;return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,m.extend)({},P,n.chartConfig.point)),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw()}},{key:"draw",value:function(){var t=void 0,e=this,n=e.chartConfig.animate,i=e.chartConfig.labelDistancePercentage,r=e.wxLayout,o=e.chartConfig,a=o.cutoutPercentage,u=o.rotation,s=o.color,l=(o.title,o.borderWidth),c=o.padding;e.emit("beforeDraw",{options:e.chartConfig}),t=r.adjustBox(),e.title&&(e.title.update(e.titleText,t),r.addBox(e.title.box)),t=r.adjustBox();var f=(0,b.default)((0,m.extend)(!0,{},s,{count:e.visDatasets.length})),h=(0,b.default)({hue:s.hue||"black",luminosity:"dark",count:1}),d=[];e.visDatasets.forEach(function(t,n){t.color||(t.color=f[n]),t.borderColor||(t.borderColor=e.config.backgroundColor||"#ffffff");var i=t.legend;!i||m.is.String(i)?d.push({display:t.display,text:m.is.String(i)?i:t.label,fillStyle:t.color,strokeStyle:h[0]}):m.is.PureObject(i)&&d.push((0,m.extend)({display:t.display},i))}),e.legend.update(d,t),r.addBox(e.legend.box),t=r.adjustBox(),c=c||.1*t.width,t.width-=c,t.height-=c,e.box=t;var p=t,v=p.x,y=p.y,g=p.width,x=p.height,w=p.outerWidth,_=p.outerHeight,k=Math.min(g,x),P=Math.max((k-2*l)/2,0)-10,S=e.calculateTotal(),C=e._longestLabel(S),A=e._maximalLabelFontSize(),O=C+A+P*i,T=(g-2*(P+l))/2;T<O&&(P-=O-T);var M=a?P/100*a:0,z=(e.config.backgroundColor||"#ffffff",v+w/2),W=y+_/2,j={box:t,pointX:z,pointY:W,innerRadius:M,outerRadius:P,totalValue:S,borderWidth:l,rotation:u,totalAngle:2*Math.PI};e.drawDoughnut(e.visDatasets,j),n?(e.emit("animate",{animation:e.wxAnimation}),e.wxAnimation.run(!0),e.wxAnimation.on("done",function(){e.emit("draw",{options:j})})):e.emit("draw",{options:j}),r.addBox(e.box)}},{key:"drawData",value:function(t,e){var n=this,i=n.ctx,r=e.pointX,o=e.pointY,a=e.startAngle,u=e.endAngle,s=e.outerRadius,l=e.innerRadius,c=(e.totalValue,e.borderWidth),f=(t.label,t.value,t.color),h=t.borderColor,d=t.percentage,p=t.display;if(!p)return u;var v=s/100*d;return i.beginPath(),i.arc(r,o,v,a,u),i.arc(r,o,l,u,a,!0),i.closePath(),i.strokeStyle=h,i.lineWidth=c||0,i.fillStyle=f,i.fill(),i.lineJoin="bevel",c&&i.stroke(),i.draw(),u}},{key:"drawLabel",value:function(t,e){var n=this,i=n.ctx,r=n.chartConfig.labelDistancePercentage||.2,o=e.pointX,a=e.pointY,u=e.startAngle,s=e.endAngle,l=e.outerRadius,c=(e.innerRadius,e.totalValue),f=(e.borderWidth,t.label),h=t.value,d=t.color,p=(t.borderColor,t.fontSize),v=t.percentage,y=t.format,g=t.showItem,x=t.display;if(x&&g){var b=u+(s-u)/2,w=l/100*v;f=m.is.Function(y)?y.call(n,f,h,c,w,t,e):f;var _=Math.cos(b)*w+o,k=Math.sin(b)*w+a,P=w*r,S=w+P,C=Math.cos(b)*S+o,A=Math.sin(b)*S+a,O=n.avoidCollision({x:C,y:A},{x:o,y:a});C=O.x,A=O.y;var T=i.measureText(f).width,M=C+(C-o>0?P:-P),z=A,W=C-o>0?M+4:M-4-T,j=z+i.fontSize/2;i.beginPath(),i.lineWidth=1,i.strokeStyle=d,i.fillStyle=d,i.fontSize=p,i.moveTo(_,k),i.lineTo(C,A),i.lineTo(M,z),i.stroke(),i.fillText(f,W,j),i.draw()}}},{key:"drawDoughnut",value:function(t,e){var n=this,i=n.chartConfig.animate;n.chartConfig.animateOptions;if(i){var r=n._getAnimationDrawDoughnut(t,e);if(!r)return;n.wxAnimation.pushActions(r)}else n._drawDoughnut(t,e)}},{key:"_getAnimationDrawDoughnut",value:function(t,e){var n=this,i=n.ctx,r=n.chartConfig.animateOptions,o=n.config.backgroundColor,a=e.box,u=(e.pointX,e.pointY,e.totalValue),s=e.rotation,l=(e.outerRadius,e.borderWidth,e.totalAngle),c=r.end-r.start;return function(f,h,d){var p=f/c,v=l*p;i.save(),i.beginPath();return o?(i.fillStyle=o,i.strokeStyle=o,i.fillRect(a.x,a.y,a.outerWidth,a.outerHeight)):i.clearRect(a.x,a.y,a.outerWidth,a.outerHeight),i.draw(),r.end===f?n._drawDoughnut(t,e):!function(){var i=s;t.forEach(function(t){var r=i,o=r+v*(t.value/u),a=(0,m.extend)({startAngle:r,endAngle:o},e);n.drawData(t,a),i=o})}(),i.restore(),f}}},{key:"_drawDoughnut",value:function(t,e){var n=this,i=e.totalValue,r=e.rotation,o=e.totalAngle,a=r;n.initAvoidCollision(),t.forEach(function(t){var r=a,u=r+o*(t.value/i),s=(0,m.extend)({startAngle:r,endAngle:u},e);n.drawData(t,s),n.drawLabel(t,s),a=u})}},{key:"_longestLabel",value:function(t){var e=this,n=e.visDatasets,i=e.ctx,r=0;return n.forEach(function(n){var o=n.label,a=n.value,u=n.format;o=m.is.Function(u)?u.call(e,o,a,t,0,n):o;var s=i.measureText(o).width;r=s>r?s:r}),r}},{key:"_maximalLabelFontSize",value:function(){var t=this,e=t.visDatasets,n=0;return e.forEach(function(t){var e=t.fontSize;n=e>n?e:n}),n}},{key:"initAvoidCollision",value:function(){this._lastPoint=null}},{key:"avoidCollision",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ctx.fontSize+4,i=this,r=(i.box,e.x);e.y;if(i._lastPoint){var o=i._lastPoint.x,a=i._lastPoint.y,u=t.x,s=t.y;if((u-r)*(o-r)>0&&Math.abs(a-s)<n){var l=u-r>0?a+n:a-n;t.y=l}}return this._lastPoint=t,t}}]),e}(f.default);n.default=S},{"../core/animation":15,"../core/layout":17,"../core/legend":18,"../core/title":20,"../util/helper":25,"../util/randomColor":27,"../util/wxCanvas":29,"./wxChart":14}],13:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=t("es6-mixins"),c=i(l),f=t("../util/helper"),h=t("../util/randomColor"),d=i(h),p=t("../util/wxCanvas"),v=(i(p),
t("./wxChart")),y=i(v),g=t("../core/title"),x=i(g),b=t("../core/scale"),m=(i(b),t("../scale/scale.liner")),w=i(m),_=t("../scale/scale.crosshelp"),k=i(_),P=t("../scale/scale.stackhelp"),S=i(P),C=t("../scale/scale.category"),A=i(C),O=t("../core/legend"),T=i(O),M=t("../core/layout"),z=i(M),W=t("../core/animation"),j=i(W),E=t("bezier-js"),B=t("tinycolor2"),R={lineWidth:1,lineJoin:"miter",fillArea:!1,fillAlpha:.5,display:!0,spanGaps:!1,tension:.4},I={xScaleOptions:{position:"bottom"},xScaleItemOptions:void 0,yScaleOptions:{position:"left"},yScaleItemOptions:void 0,crossScaleOptions:{},title:void 0,stacked:!1,discardNeg:!1,legends:[],legendOptions:{position:"bottom"},point:{},color:{hue:"red",luminosity:"light"},defaultKey:"value",animate:!0,animateOptions:{start:1,end:1001,duration:1e3}},D={showItem:!0,pointRadius:2,pointStyle:"circle",pointBorderWidth:1,pointBorderColor:"#ffffff",display:!0},L=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));N.call(i),(0,c.default)([S.default],i,{mergeDuplicates:!1});var a=i;return a.chartConfig=(0,f.extend)({},I,n),a.title=null,a.chartConfig.title&&(a.title=new x.default(a,f.is.PureObject(a.chartConfig.title)?a.chartConfig.title:null),a.titleText=f.is.String(a.chartConfig.title)?a.chartConfig.title:a.chartConfig.title.text),a.legend=new T.default(a,a.chartConfig.legendOptions),a.yAxis=new w.default(a,a.chartConfig.yScaleOptions),a.xAxis=new A.default(a,a.chartConfig.xScaleOptions),a.wxCrossScale=new k.default(a.xAxis,a.yAxis,a.chartConfig.crossScaleOptions),a.wxLayout=new z.default(a),a.chartConfig.animate&&(a.wxAnimation=new j.default(a.chartConfig.animateOptions)),a.emit("init",{options:a.chartConfig}),i}return a(e,t),u(e,[{key:"_getLegendConfig",value:function(){var t=this,e=t.chartConfig.defaultKey||"value",n=t.chartConfig.legends;if(n)n=n.map(function(t){return(0,f.extend)(!0,{key:e},t)});else{if(!t.labels||!t.labels.length)throw new Error("Can not get legend config!");n=t.labels.map(function(t){return{text:t,key:e}})}return n}},{key:"update",value:function(t){var n=this;return n._labels=null,n._legends=null,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,f.extend)({},D,n.chartConfig.point)),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw()}},{key:"draw",value:function(){var t=void 0,e=this,n=e.chartConfig.animate,i=e.chartConfig.stacked,r=e.chartConfig.discardNeg,o=e.wxLayout,a=e.chartConfig,u=(a.cutoutPercentage,a.rotation,a.color);a.borderWidth,a.padding;e.emit("beforeDraw",{options:e.chartConfig}),t=o.adjustBox(),e.title&&(e.title.update(e.titleText,t),o.addBox(e.title.box)),t=o.adjustBox();var s=(0,d.default)((0,f.extend)(!0,{},u,{count:e.legends.length}));e.legends=e.legends.map(function(t,n){return t.strokeStyle||(t.strokeStyle=e.chartConfig.backgroundColor||t.borderColor||s[n]),(0,f.extend)(!0,{fillStyle:s[n]},R,t)}),e.legend.update(e.legends,t),o.addBox(e.legend.box),e._drawScale(o),t=o.adjustBox();var l=e.legends.map(function(n,o){var a={box:t,legend:n},u=n.key;return a.dataset=e.visDatasets.map(function(t,n){var a=t[u],s=void 0;if(a){var l=void 0,c=e.xAxis.getPoint(n);if(i)if(r){var f=e._getStackValue(n,o),h=f.sumPos;l=a<0?e.yAxis.getPoint(h):e.yAxis.getPoint(h+a)}else l=e._getStackPoint(n,o);else l=e.yAxis.getPoint(a);s={x:c.x,y:l.y}}return{value:a,point:s,data:t,index:n}}),a});l.reduce(function(t,n){return e.drawLine(n,t),n},null),n?(e.emit("animate",{animation:e.wxAnimation}),e.wxAnimation.run(!0),e.wxAnimation.on("done",function(){e.emit("draw",{options:l})})):e.emit("draw",{options:l})}},{key:"_drawScale",value:function(t){var e=void 0,n=this;e=t.adjustBox();var i=n.xScaleAxisDatas(),r=n.yScaleAxisDatas(e),o=n.wxCrossScale.draw(e,i,r),a=o.xBox,u=o.yBox;t.addBox(a),t.addBox(u)}},{key:"_drawLine",value:function(t){var e=this,n=this,i=n.ctx,r=t.box,o=t.legend,a=t.dataset,u=o.display,s=o.spanGaps,l=o.tension,c=o.lineWidth,f=o.lineJoin,h=o.fillStyle,d=o.strokeStyle,p=o.fillArea,v=o.fillAlpha,y=n.xAxis.getPoint(0).y-n.xAxis.config.lineWidth/2;if(u){i.save(),i.lineWidth=c,i.lineJoin=f,i.strokeStyle=d,i.fillStyle=h,p&&!function(){i.beginPath();var t=void 0,r=void 0;a.forEach(function(i,o){var u=i.point;if(r)if(u)e._lineToPoint(r,u,n._getNextPoint(a,o,s),l);else{if(s)return;e.__fillInHere(t,r,y,v),t=void 0}else u&&(e._lineToPoint(r,u,n._getNextPoint(a,o,s),l),t=u);r=u}),r&&t&&e.__fillInHere(t,r,y,l,v)}(),i.beginPath();var g=void 0;a.forEach(function(t,i){var r=t.point;if(r)e._lineToPoint(g,r,n._getNextPoint(a,i,s),l);else if(s)return;g=r}),i.stroke(),a.forEach(function(t,e){n._drawPoint(i,r,t)}),i.draw(),i.restore()}}},{key:"drawLine",value:function(t,e){var n=this,i=n.chartConfig.animate,r=n.chartConfig.animateOptions;if(i){var o=n._getAnimationDrawLine(t,e);if(!o)return;n.wxAnimation.pushActions(o),n.wxAnimation.pushActions(function(e){r.end===e&&n._drawLine(t)})}else n._drawLine(t)}},{key:"yScaleAxisDatas",value:function(t){var e=this,n=e.chartConfig.stacked,i=e.chartConfig.discardNeg,r=e.ctx,o=e.chartConfig.yScaleItemOptions,a=e.yAxis.calculateTickLimit(t,r);if(n){var u=e.stackYScaleAxisLimit(),s=u.max,l=u.min;return e.yAxis.buildDatasets(s,l<0&&i?0:l,a,void 0,o)}var c=this.visDatasets.reduce(function(t,n){var i=t.max,r=t.min;if(n.display){var o=e.legends.map(function(t){if(t.key)return n[t.key]||0}).concat(i,r);i=Math.max.apply(Math,o),r=Math.min.apply(Math,o)}return{max:i,min:r}},{max:0,min:0}),f=c.max,h=c.min;return e.yAxis.buildDatasets(f,h,a,void 0,o)}},{key:"xScaleAxisDatas",value:function(){var t=this,e=t.chartConfig.xScaleItemOptions,n=t.labels.map(function(t){var n={text:t};return"undefined"!=typeof e&&(n=(0,f.extend)(n,e)),n});return t.xAxis.buildDatasets(n)}},{key:"labels",get:function(){var t=this,e=void 0;return t._labels?t._labels:(e=t.chartConfig.labels)&&f.is.Array(e)?e:(t._labels=t.visDatasets.map(function(t){return t.label}),t._labels)}},{key:"legends",get:function(){var t=this;return t._legends||(t._legends=t._getLegendConfig()),t._legends},set:function(t){this._legends=t}}]),e}(y.default),N=function(){var t=this;this._animateLineTick=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return n?(t%e+i*e)/(e*n):0},this._getCurr=function(t,e){if(!(e>t.length-1))return t[e]},this._getNext=function(e,n,i){if(!(n>=e.length-1)){var r=e[n+1];return r.point?r:i?t._getNext(e,n+1,i):void 0}},this._getNextPoint=function(e,n,i){var r=t._getNext(e,n,i);return r?r.point:null},this._getPre=function(e,n,i){if(!(n<=0)){var r=e[n-1];return r.point?r:i?t._getPre(e,n-1,i):void 0}},this._getPrePoint=function(e,n,i){var r=t._getPre(e,n,i);return r?r.point:null},this._lineToPoint=function(e,n,i,r){var o=t.ctx;if(r&&0!==r){var a=(0,f.splineCurve)(e,n,i,r);e?o.bezierCurveTo(e.controlPoints.next.x,e.controlPoints.next.y,a.previous.x,a.previous.y,n.x,n.y):o.moveTo(n.x,n.y),n.controlPoints=a}else o.lineTo(n.x,n.y)},this._animateLineToPoint=function(e,n,i,r,o,a){var u=t.ctx;if(a&&0!==a){var s=void 0,l=void 0,c=void 0,h=void 0,d=(0,f.splineCurve)(e,n,i,a);if(e&&n){var p=new E({x:e.x,y:e.y},{x:e.controlPoints.next.x,y:e.controlPoints.next.y},{x:d.previous.x,y:d.previous.y},{x:n.x,y:n.y}),v=p.split(r||0,o);s=v.point(0),l=v.point(1),c=v.point(2),h=v.point(3),u.moveTo(Math.round(s.x),s.y),u.bezierCurveTo(l.x,l.y,c.x,c.y,Math.round(h.x),h.y)}return n.controlPoints=d,{startPoint:s?{x:Math.round(s.x),y:s.y}:null,endPoint:h?{x:Math.round(h.x),y:h.y}:null}}var y=e.x,g=n.x,x=e.y,b=n.y,m=Math.sqrt(Math.pow(g-y,2)+Math.pow(b-x,2)),w=(g-y)/m,_=(b-x)/m,k=y+w*o,P=x+_*o;return u.moveTo(y,x),u.lineTo(k,P),{startPoint:e,endPoint:{x:k,y:P}}},this.__fillInHere=function(e,n,i,r){var o=t.ctx;o.lineTo(n.x,i),o.lineTo(e.x,i),o.globalAlpha=r,o.fill(),o.globalAlpha=1},this._drawPoint=function(e,n,i){if(i&&i.point){var r=i.data,o=r.pointBorderColor,a=r.pointBorderWidth,u=r.pointRadius,s=(r.pointStyle,r.label),l=r.showItem,c=r.format,h=i.point,d=h.x,p=h.y;if(u&&(e.beginPath(),e.arc(d,p,u,0,2*Math.PI),e.fill()),l){var v=e.fillStyle;e.textBaseline="bottom",e.fillStyle=B(v).darken(15).toString(),e.fillStyle=v;var y=f.is.Function(c)?c.call(t,s,i.value,i.index):i.value+"",g=(n.x,n.y,d-e.measureText(y).width/2),x=p-e.fontSize/6-(u||0)-(a||0);g<n.x&&(g=n.x),x<n.y&&(x=d+e.fontSize/6+(u||0)+(a||0),e.textBaseline="top"),e.fillText(y,g,x)}a&&(e.beginPath(),e.arc(d,p,u,0,2*Math.PI),e.lineWidth=a,e.strokeStyle=o||legend.strokeStyle,e.stroke())}},this._getAnimationDrawLine=function(e,n){var i=t,r=(i.chartConfig.animate,i.chartConfig.animateOptions),o=i.ctx,a=e.box,u=e.legend,s=e.dataset,l=u.display,c=u.spanGaps,h=u.tension,d=u.lineWidth,p=u.lineJoin,v=u.fillStyle,y=u.strokeStyle,g=(u.fillArea,u.fillAlpha,s.length),x=(r.end-r.start)/(g-1);if(l)return function(t,e,n){o.save(),o.lineWidth=d,o.lineJoin=p,o.strokeStyle=y,o.fillStyle=v;var r=e?Math.floor(t/x)+1:0,u=void 0,l=void 0,g=void 0,b=void 0,m=e?e.t:0,w=0,_=i._getCurr(s,r),k=i._getNext(s,r,c),P=i._getPre(s,r,c),S=void 0,C=e?r-e.index:0;return _&&(l=_.point,u=_.point,g=_.index,b=_.data,w=i._animateLineTick(t,x,g-(P?P.index:0),r-(P?P.index:0)-1)),P&&(S=i._getPrePoint(s,P.index,c)),!l&&k&&(l=k.point,g=k.index,k=i._getNext(s,k.index,c)),1==C&&(P&&P.point&&(o.beginPath(),i._animateLineToPoint(S,P.point,l,m,1,h),o.stroke()),m=0),(!u&&c||u)&&l&&(o.beginPath(),i._animateLineToPoint(P?P.point:null,l,k?k.point:null,m,w,h),o.stroke()),0==m&&P&&P.point&&i._drawPoint(o,a,(0,f.extend)({},P,{showItem:!1})),o.draw(),o.restore(),{point:u,t:w,index:r,diffIndex:C}}}};n.default=L},{"../core/animation":15,"../core/layout":17,"../core/legend":18,"../core/scale":19,"../core/title":20,"../scale/scale.category":21,"../scale/scale.crosshelp":22,"../scale/scale.liner":23,"../scale/scale.stackhelp":24,"../util/helper":25,"../util/randomColor":27,"../util/wxCanvas":29,"./wxChart":14,"bezier-js":1,"es6-mixins":5,tinycolor2:10}],14:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return t&&t in y?y[t]:null}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.getChartInstances=o;var u=t("../util/helper"),s=t("../util/wxCanvas"),l=i(s),c=t("../core/layout"),f=t("mitt"),h=i(f),d=t("es6-mixins"),p=i(d),v={fontSize:10,width:300,height:200,display:"block",padding:0,backgroundColor:null},y={},g=function(){function t(e,n){r(this,t);var i=this;(0,p.default)([(0,h.default)()],this,{mergeDuplicates:!1});var o=void 0;return u.is.PureObject(n)?o=(0,u.extend)({},v,n):(u.is.Number(n)||u.is.String(n))&&(o={width:arguments[1],height:2 in arguments?arguments[2]:v.height,display:3 in arguments?arguments[3]:v.display},4 in arguments&&u.is.PureObject(arguments[4])?(0,u.extend)({},v,o,arguments[4]):(0,u.extend)({},v,o)),i.canvas=new l.default(e,o),i.ctx=i.canvas.getContext("2d"),i.isWeiXinAPP=(0,u.checkWX)(),i._id=(0,u.uid)(),i.emit("initCanvas",{canvas:i.canvas,ctx:i.ctx,id:i.id+""}),i._config=i.initConfig(o),i.initContext(),y[i.id+""]=i,i}return a(t,[{key:"initConfig",value:function(t){var e=this;e.canvas||console.error("Failed to create WxChart: can't acquire context!");var n=e.canvas,i=n.width,r=n.height;return t.width=i,t.height=r,t.aspectRatio=t.aspectRatio?t.aspectRatio:u.is.Undefined(r)||u.is.Undefined(i)?null:(i/i).toFixed(2),t.display=t.display||"block",t}},{key:"initContext",value:function(){var t=this;if(!t.canvas)return console.error("Failed to create WxChart: can't acquire context!"),t;(0,u.retinaScale)(t.ctx,t.canvas.width,t.canvas.height),t.config.fontSize&&(t.ctx.fontSize=t.config.fontSize);var e=t.config.padding||0;t.innerBox=new c.BoxInstance("top",0,0,t.config.width-2*e,t.config.height-2*e,t.config.width,t.config.height)}},{key:"clear",value:function(){var t=this;t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.config.backgroundColor&&(t.ctx.save(),t.ctx.fillStyle=t.config.backgroundColor,t.ctx.fillRect(0,0,t.canvas.width,t.canvas.height),t.ctx.restore(),t.ctx.draw()),t.emit("clear",{canvas:t.canvas})}},{key:"destroy",value:function(){var t=this;t.clear(),t.canvas.releaseContext(),t.id&&t.id in y&&delete y[t.id],t.canvas=null,t.ctx=null,t._config=null,t.innerBox=null,t.emit("destroy")}},{key:"draw",value:function(){}},{key:"update",value:function(t,e){var n=this;if(!u.is.Undefined(t))return u.is.Array(t)||(t=[t]),t=t.map(function(t){return(0,u.extend)({},e,t)}),n.emit("update",{datasets:t}),n.clear(),n._datasets=t,n._visDatasets=null,n._datasets}},{key:"calculateTotal",value:function(){var t=this.datasets,e=0,n=void 0;return t.forEach(function(t,i){n=parseFloat(t.value),u.is.NaN(n)||t.hidden||(e+=Math.abs(n))}),e}},{key:"id",get:function(){return this._id}},{key:"config",get:function(){return this._config||(this._config=(0,u.extend)({},v)),this._config},set:function(t){var e=this;e.initConfig(t),e.initContext(),e.clear(),e.draw()}},{key:"datasets",get:function(){return this._datasets},set:function(t){return this.update(t)}},{key:"visDatasets",get:function(){return this._visDatasets?this._visDatasets:this._visDatasets=this.datasets.filter(function(t){return!!t.display})},set:function(t){}}]),t}();n.default=g},{"../core/layout":17,"../util/helper":25,"../util/wxCanvas":29,"es6-mixins":5,mitt:7}],15:[function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){var t=[];return function(e){for(var n=arguments,i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a=this;if(a instanceof g){var u=void 0;return t.forEach(function(t){u=t.apply(a,n)}),u}return t.push(e),t}}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.wxAnimationActLinker=a;var s=t("../util/tweezer"),l=r(s),c=t("ez.js"),f=i(c),h=t("../util/helper"),d=t("mitt"),p=r(d),v=t("es6-mixins"),y=r(v),g=function(){function t(e){var n=this;o(this,t),this.currentActionIndex=0,this.handOverAction=function(){n.currentActionIndex++},this.stop=function(){n.currentActionIndex=0,n.tweenzerHandler.stop(),n.started=!1,n.emit("stop")},this.reset=function(){n.currentActionIndex=0,n.tweenzerHandler.stop().off("tick").off("done"),n.started=!1,n.resetActions(),n.emit("reset")};var i=f.easeInOutQuad;e.easeType&&"undefined"!=typeof f[e.easeType]&&(i=f[e.easeType]),this.tweenzerHandler=new l.default((0,h.extend)({easing:i},e)),this.actions=[];var r=(0,p.default)();(0,y.default)([r],this,{mergeDuplicates:!1})}return u(t,[{key:"pushActions",value:function(t){if(!h.is.Function(t))throw new Error("Should pass to an `action` callback function");return this.actions.push(t)}},{key:"resetActions",value:function(){this.actions=[]}},{key:"runTick",value:function(t,e){var n=this,i=n.currentActionIndex||0;if(!(i>=n.actions.length)){var r=void 0,o=n.actions[i],a=i+1<=n.actions.length?n.actions[i+1]:null;return n.emit("tick",{value:t,preRet:e,toNext:n.handOverAction,nextAction:a,parallel:!1}),r=o.apply(n,[t,e,n.handOverAction,a])}}},{key:"runTickParallel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,i=n.actions,r=n.actions.length;return i.forEach(function(o,a){var u=e?e[a]:null,s=function(){},l=a+1<r?i[a+1]:null;n.emit("tick",{value:t,preRet:u,toNext:s,nextAction:l,parallel:!0});var c=o.apply(n,[t,u,s,l]);e[a]=c}),e}},{key:"tick",value:function(t){var e=this,n=void 0;return function(i){n=t?e.runTickParallel(i,n):e.runTick(i,n)}}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;e.emit("start",{parallel:t}),e.started=!0,e.tweenzerHandler.on("tick",e.tick(t)).on("done",function(){e.currentActionIndex=0,e.started=!1,e.emit("done",{parallel:t})}).begin()}}]),t}();n.default=g},{"../util/helper":25,"../util/tweezer":28,"es6-mixins":5,"ez.js":6,mitt:7}],16:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../util/helper"),u=t("./layout"),s=t("../charts/wxChart"),l=i(s),c=t("../util/wxCanvas"),f=(i(c),function(){function t(e,n){r(this,t);var i=this;if(!e||!e instanceof l.default)throw new Error("Should be an WxChart instance");return i.wxChart=e,this._datasets=[],i}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;if((a.is.Undefined(t)||a.is.Null(t))&&(t=n.datasets,!t))throw new Error("Datasets is null");return a.is.Array(t)||(t=[t]),t=t.map(function(t){return(0,a.extend)({},e,t)}),n._datasets=t,n._visDatasets=null,n._datasets}},{key:"update",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this;if(i.clear(),t){if(t=i.init(t),e&&e instanceof u.BoxInstance)e=i.box=i.calculateBox(e,t,n);else{if(!i.box)return;e=i.box}i.isVisiable()&&i.draw(t,e,n)}}},{key:"calculateBox",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config;return t}},{key:"setBox",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;e&&n.clear(),t&&t instanceof u.BoxInstance&&(n.box=t),e&&n.isVisiable()&&n.draw()}},{key:"draw",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config}},{key:"clear",value:function(){var t=this;t.box&&(t.wxChart.ctx.clearRect(t.box.x,t.box.y,t.box.outerWidth,t.box.outerHeight),t.wxChart.ctx.draw())}},{key:"isVisiable",value:function(){return!!this.config.display}},{key:"isHorizontal",value:function(){return"top"==this.position||"bottom"==this.position}},{key:"datasets",get:function(){return this._datasets},set:function(t){return this.update(t)}},{key:"visDatasets",get:function(){return this._visDatasets?this._visDatasets:this._visDatasets=this.datasets.filter(function(t){return!!t.display})},set:function(t){}},{key:"position",get:function(){return this.config.position},set:function(t){return this.config.position=t,this.update()}}]),t}());n.default=f},{"../charts/wxChart":14,"../util/helper":25,"../util/wxCanvas":29,"./layout":17}],17:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.BoxInstance=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./base"),u=i(a),s=t("../util/helper"),l=n.BoxInstance=function(){function t(e,n,i,o,a,u,l){r(this,t);var c=this;if(s.is.PureObject(e)){var f=e;e=f.position,n=f.x,i=f.y,o=f.width,a=f.height;var h=f.padding,d=f.margin;s.is.Number(h)&&s.is.Number(d)?(u=o+2*h+2*d,l=a+2*h+2*d):(u=f.outerWidth,l=f.outerHeight)}c.position=e,c.width=o,c.height=a,c.outerWidth=u,c.outerHeight=l,Object.defineProperty(this,"x",{get:function(){return n},set:function(t){c.width+=n-t,c.outerWidth+=n-t,n=t}}),Object.defineProperty(this,"y",{get:function(){return i},set:function(t){c.height+=i-t,c.outerHeight+=i-t,i=t}})}return o(t,[{key:"clone",value:function(){var e=this;return new t(e.position,e.x,e.y,e.width,e.height,e.outerWidth,e.outerHeight)}},{key:"isIntersect",value:function(t){var e=this;return!(e.ex<t.x||e.x>t.ex||e.ey<t.y||e.y<t.ey)}},{key:"toObject",value:function(){return{position:this.position,x:this.x,y:this.y,ex:this.ex,ey:this.ey,lx:this.lx,ly:this.ly,rx:this.rx,ry:this.ry,width:this.width,height:this.height,outerHeight:this.outerHeight,outerWidth:this.outerWidth}}},{key:"ex",get:function(){return this.x+this.outerWidth}},{key:"ey",get:function(){return this.y+this.outerHeight}},{key:"lx",get:function(){return this.x+this.marginLR}},{key:"ly",get:function(){return this.y+this.marginTB}},{key:"rx",get:function(){return this.x+this.width+this.marginLR}},{key:"ry",get:function(){return this.y+this.height+this.marginTB}},{key:"marginLR",get:function(){return(this.outerWidth-this.width)/2},set:function(t){s.is.Number(t)&&(this.width-=2*t)}},{key:"marginTB",get:function(){return(this.outerHeight-this.height)/2},set:function(t){s.is.Number(t)&&(this.height-=2*t)}}]),t}(),c=function(){function t(e){r(this,t);var n=this;if(!e||!e instanceof u.default)throw new Error("Should be an WxChart instance");n.wxChart=e,n._boxs=[]}return o(t,[{key:"addBox",value:function(t){var e=this;if(!t instanceof l)throw new Error("Please add an BoxInstance Object");return parseInt(e._boxs.push(t))-1}},{key:"removeBox",value:function(t){var e=this;s.is.Number(t)?e._boxs.splice(t,1):t instanceof l&&e._boxs.splice(e._boxs.indexOf(t),1)}},{key:"removeAllBox",value:function(){this._boxs=[]}},{key:"adjustBox",value:function(){var t=this,e=t.wxChart.innerBox.clone();return t._boxs.forEach(function(t){var n=t.position,i=(t.x,t.y,t.height,t.width,t.outerWidth),r=t.outerHeight;switch(n){case"top":e.y+=r;break;case"bottom":e.outerHeight-=r,e.height-=r;break;case"left":e.x+=i;break;case"right":e.outerWidth-=i,e.width-=i}}),e}}]),t}();n.default=c},{"../util/helper":25,"./base":16}],18:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof2(t)},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("./base"),f=i(c),h=t("../util/helper"),d=t("./layout"),p={display:!0,position:"top",fullWidth:!0,labels:{boxWidth:30,fontSize:11,padding:10}},v={lineWidth:1,display:!0},y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,h.extend)(!0,{},p,n),i}return a(e,t),s(e,[{key:"init",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=this,r=i.config;return t=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,n),t=i.calculateLegendItem(t,r),i._datasets=t,t}},{key:"calculateLegendItem",value:function(t,e){var n=this,i=e.labels||{},r=n.wxChart.ctx,o=i.boxWidth,a=i.fontSize;return!h.is.Array(t)&&h.is.PureObject(t)&&(t=[t]),t=t.map(function(t){var e=r.measureText(t.text).width,n=o+a/2+e;return t._prop={fontSize:a,boxHeight:a,boxWidth:o,textWidth:e,width:n},t})}},{key:"calculateBox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=void 0,o=void 0,a=void 0,s=void 0,l=i.wxChart,c=l.ctx,f=c.fontSize,h=t.x,p=t.y,v=n.labels.padding||10;if(i.isHorizontal())!function(){a=n.fullWidth?t.width-2*v:n.width,r=n.fullWidth?t.width:n.width,s=f,o=s+2*v;var u=0,l=0,c=0;e.forEach(function(t){var e=t._prop,n=e.width+v,i=l+n;i>a?(c=c<l?l:c,u++,l=n,n>a&&(console.warn("The width options is too small! width=",a,".The chart will set to ",i),a=n)):l+=n,e.padding=v,e.lineNum=u,e.outerWidth=n}),c=c<l?l:c,u>0&&(s=f*(u+1)+u*f/2,o=s+2*v),h+=(a-c)/2,"bottom"==i.position&&(p=t.ry-o,p=p<t.y?t.y:p)}();else{var y=function(){var n=i.position.match(/left/)?"left":"right",a=i.position.match(/top/)?"top":"bottom",u=0,l=0;return e.forEach(function(t){var e=t._prop.width;u=u<e?e:u,t._prop.padding=v,t._prop.lineNum=l,t._prop.outerWidth=null,l++}),r=u+2*v,s=f*(l+1)+l*v/2,o=s+2*v,"bottom"==a&&(p=t.ry-o,p=p<t.y?t.y:p),"right"==n&&(h=t.rx-r,h=h<0?0:h),{v:new d.BoxInstance({position:n,x:h,y:p,width:u,outerWidth:r,height:s,outerHeight:o})}}();if("object"===("undefined"==typeof y?"undefined":u(y)))return y.v}return new d.BoxInstance({position:n.position,x:h,y:p,width:a,outerWidth:r,height:s,outerHeight:o})}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,this),i=n.wxChart.ctx,r=e.x,o=e.y;e.width,e.outerWidth,e.height,e.outerHeight;n.clear(),i.save();var a=-1,u=r,s=o;t.forEach(function(t){var e=t.text,n=t.display,l=t.fillStyle,c=t.fillAlpha,f=t.strokeStyle,h=t.lineCap,d=t.lineJoin,p=t.lineWidth,v=t._prop,y=v.width,g=v.fontSize,x=v.textWidth,b=v.padding,m=v.lineNum,w=v.boxWidth,_=v.boxHeight,k=v.outerWidth;if(y){i.textBaseline="middle",i.textAlign="start",i.fillStyle=l,i.fontSize=g,i.strokeStyle=f,i.lineCap=h,i.lineJoin=d,i.lineWidth=p,a<m&&(a=m,u=r+b,s=o+m*g*1.5+b);var P=u;0!=p&&i.strokeRect(u,s,w,_),i.globalAlpha=c,i.fillRect(u,s,w,_),i.globalAlpha=1,u+=w+g/2,i.fillText(e,u,s+_/2-p),n||(i.save(),i.beginPath(),i.lineWidth=1,i.moveTo(u,s+g/2),i.lineTo(u+x,s+g/2),i.stroke(),i.restore()),u=P+k}}),i.restore(),i.draw()}}]),e}(f.default);n.default=y},{"../util/helper":25,"./base":16,"./layout":17}],19:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=t("../util/helper"),c=t("../util/wxCanvas"),f=(i(c),t("./layout")),h=t("./base"),d=i(h),p={display:!0,position:"top",extendLeft:0,extendTop:0,title:void 0,titleFontSize:12,titleFontColor:"#4c4d4d",color:"#000000",lineWidth:1,gridLines:{display:!0,color:"#e0e0e0",lineWidth:1},ticks:{display:!0,autoSkip:!0,lineWidth:1,fontColor:"#000000",fontSize:11,minRotation:0,maxRotation:90}},v={display:!0,lineWidth:1,fontColor:"#000000"},y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,l.extend)(!0,{},p,n),i}return a(e,t),u(e,[{key:"getTicksText",value:function(t){return t&&t.text?t.format?t.format.call(t,t.text,t):t.text:null}},{key:"longestText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wxChart.ctx,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=this,i=0;return e.forEach(function(e){if(e.display){var r=void 0;if(e.textWidth)r=e.textWidth;else{var o=n.getTicksText(e);r=t.measureText(o).width,e.textWidth=r}i=i<r?r:i}}),i}},{key:"calculateFixPadding",value:function(t,e){var n=this,i=n.wxChart.ctx;if(e.fixPadding)return e.fixPadding;if(n.isHorizontal()){var r=n.visDatasets,o=n.getTicksText(r[0]),a=n.getTicksText(r[r.length-1]);return Math.max(i.measureText(o).width,i.measureText(a).width)}return i.fontSize}},{key:"init",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=this,r=i.config;return t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,n),i.visDatasets=null,i._datasets=t,i.fixPadding=i.calculateFixPadding(t,r),t}},{key:"calculateBox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=r.fontSize,a=i.calculateTickWidth(e,t,n),u=void 0,s=void 0,c=void 0,h=void 0,d=void 0,p=void 0,v=(0,l.toRadians)(n.ticks.minRotation||0),y=(0,l.toRadians)(n.ticks.maxRotation||90),g=v,x=i.lineSpace,b=1,m=i.longestText();if(i.isHorizontal())m>a?a<=r.fontSize?g=y:(g=Math.acos(a/m),h=Math.sin(g)*m+b+x+o/2,h>t.height?(h=t.height,g=Math.asin((h-b-x-o/2)/m)):g>y&&(g=y,h=Math.sin(g)*m+b+x+o/2)):h=1.5*o+b+x,c=t.width,d=t.outerWidth,p=h;else{var w=0;n.title&&(w=r.measureText(n.title,n.titleFontSize).width-b-x-o/2),c=m+b+x+o/2,c=c>w?c:w,c>t.width&&(c=t.width,g=Math.acos((c-b-x-o/2)/m),g=g>y?y:g),h=t.height,d=c,p=t.outerHeight}switch(i.position){case"left":case"top":u=t.x,s=t.y;break;case"right":u=t.x+t.width-d,s=t.y;break;case"bottom":u=t.x,s=t.y+t.height-p}return i.fontRadians=g,new f.BoxInstance(i.position,u,s,c,h,d,p)}},{key:"calculateTickWidth",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,n=this,i=void 0,r=n.visDatasets,o=e.ticks.lineWidth,a=l.sum.apply(null,r.map(function(t){return t.lineWidth||o})),u=n.fixPadding;if(n.isHorizontal()){var s=t.width,c=t.marginLR,f=n.calculateTitleWidth(),h=n.config.extendLeft;0!==c?a+=2*o:0!==h&&(a+=o),i=(s-f-a-u)/(r.length-1)}else{var d=t.height,p=t.marginTB,v=n.calculateTitleWidth(),y=e.extendTop;0!==p?a+=2*o:0!==y&&(a+=o),i=(d-v-a-u)/(r.length-1)}return i}},{key:"calculateTitleWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config,e=void 0,n=this,i=n.wxChart.ctx;return e=n.isHorizontal()?t.title?i.measureText(t.title,t.titleFontSize).width:0:t.title?t.titleFontSize:0;
}},{key:"_getTicksLineWidthOffset",value:function(t,e){var n=0,i=this;e||(e=i.visDatasets);var r=this.config.ticks.lineWidth;return e.map(function(e,i){t>=i&&(n+=e.lineWidth||r)}),n}},{key:"getTicksPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.box,i=this,r=(i.wxChart.ctx,i.fixPadding);e||(e=i.calculateTickWidth());var o=i.visDatasets,a=void 0,u=void 0;return i.isHorizontal()?(a=t===-1?n.x-i.config.extendLeft+r/2+(i.config.extendLeft?i.config.ticks.lineWidth:0):n.lx+i._getTicksLineWidthOffset(t,o)+e*t+r/2,u="top"===i.position?n.ry-i.lineSpace:n.ly+i.lineSpace):(u=t===-1?n.y-i.config.extendTop+r/2+(i.config.extendTop?i.config.ticks.lineWidth:0):n.ly+i.calculateTitleWidth()+i._getTicksLineWidthOffset(t,o)+e*t+r/2,a="left"===i.position?n.rx-i.lineSpace:n.lx+i.lineSpace),{x:a,y:u}}},{key:"_initDrawATickText",value:function(){var t=this,e=t.wxChart.ctx;switch(t.position){case"left":e.textAlign="end",e.textBaseline="middle";break;case"right":e.textAlign="start",e.textBaseline="middle";break;case"top":e.textAlign="center",e.textBaseline="alphabetic";break;case"bottom":e.textAlign="center",e.textBaseline="top"}}},{key:"_drawATickLine",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this,o=r.wxChart.ctx,a=r.lineSpace,u=t,s=e;switch(r.position){case"left":u+=a;break;case"right":u-=a;break;case"top":s+=a;break;case"bottom":s-=a}o.beginPath(),o.moveTo(u,s),o.lineTo(t,e),o.stroke();var c=void 0;if(i&&i.text&&l.is.String(i.text)){o.save(),console.log("tick"),r._initDrawATickText(),c=i.format?i.format.call(r,i.text,i,t,e,r.fontRadians):i.text;var f=i.textWidth?i.textWidth:o.measureText(c).width;switch(r.position){case"left":o.translate(t-n/2,e+Math.sin(r.fontRadians)*f/2),o.rotate(r.fontRadians);break;case"right":o.translate(t+n/2,e+Math.sin(r.fontRadians)*f/2),o.rotate(-r.fontRadians);break;case"top":o.translate(t,e-n/2),o.rotate(-r.fontRadians);break;case"bottom":o.translate(t,e+n/2),o.rotate(r.fontRadians)}o.fillText(c,0,0),o.restore()}}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=r.fontSize,a=i.fixPadding,u=i.calculateTickWidth(t,e,n),s=n.ticks,l=(e.x,e.y,e.width,e.outerWidth,e.height,e.outerHeight,i.visDatasets),c=i.getTicksPosition(-1,u),f=c.x,h=c.y,d=c.x,p=c.y;r.save(),r.fillStyle=s.fontColor,r.fontSize=s.fontSize,r.lineWidth=s.lineWidth;var v=i.calculateTitleWidth();i.isHorizontal()?((i.box.marginLR||n.extendLeft)&&(f+=s.lineWidth,i._drawATickLine(f,h,o)),f=i.box.lx+a/2,l.map(function(t){f+=t.lineWidth,r.fillStyle=t.fontColor,r.lineWidth=t.lineWidth,r.fontSize=t.fontSize||r.fontSize,i._drawATickLine(f,h,o,t),f+=u}),f=i.box.ex-a/2-v,i.box.marginLR&&i._drawATickLine(f,h,o),r.fillStyle=s.fontColor,r.lineWidth=n.lineWidth,r.beginPath(),r.moveTo(d,h),r.lineTo(f,h),r.stroke(),n.title&&(r.save(),f+=o/2,r.fontSize=n.titleFontSize,r.textAlign="start",r.textBaseline="bottom",r.fillStyle=n.titleFontColor,r.fillText(n.title,f,h),r.restore())):(n.title&&(r.save(),r.fontSize=n.titleFontSize,r.textAlign="center",r.textBaseline="bottom",r.fillStyle=n.titleFontColor,r.fillText(n.title,f,h),r.restore()),(i.box.marginTB||n.extendTop)&&(h+=v,i._drawATickLine(f,h,o)),h=i.box.ly+a/2+v,l.map(function(t){h+=t.lineWidth,r.fillStyle=t.fontColor,r.lineWidth=t.lineWidth,r.fontSize=t.fontSize||r.fontSize,i._drawATickLine(f,h,o,t),h+=u}),h=i.box.ey-a/2,i.box.marginTB&&i._drawATickLine(f,h,o),r.fillStyle=s.fontColor,r.lineWidth=n.lineWidth,r.beginPath(),r.moveTo(f,p+v),r.lineTo(f,h),r.stroke()),r.draw(),r.restore()}},{key:"getPoint",value:function(t){return null}},{key:"lineSpace",get:function(){var t=this;return t._lineSpace?t._lineSpace:(t._lineSpace=this.config.lineSpace||.5*this.wxChart.ctx.fontSize,t._lineSpace)}}]),e}(d.default);n.default=y},{"../util/helper":25,"../util/wxCanvas":29,"./base":16,"./layout":17}],20:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("./base"),l=i(s),c=t("../util/helper"),f=t("./layout"),h={display:!0,position:"top",fullWidth:!0,fontSize:16,fontColor:"#666666",padding:10},d=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,c.extend)(!0,{},h,n),i}return a(e,t),u(e,[{key:"init",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this),n=e.config;if(t=t?t:n.text,c.is.Undefined(t)||c.is.Null(t))throw new Error("Text is null");return e._datasets=t,t}},{key:"calculateBox",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.text,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config),n=this,i=n.wxChart,r=(i.ctx,e.fontSize||16),o=t.x,a=t.y,u=e.padding||10,s=e.fullWidth?t.width-2*u:e.width,l=e.fullWidth?t.width:e.width,c=r,h=c+2*u;return"bottom"==e.position&&(a=t.ry-h,a=a<t.y?t.y:a),new f.BoxInstance({position:e.position,x:o,y:a,width:s,height:c,outerWidth:l,outerHeight:h})}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.text,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=e.x,a=e.y,u=e.width;e.outerWidth,e.height,e.outerHeight;if(c.is.Undefined(t)||c.is.Null(t))throw new Error("Text is null");var s=n.fontColor,l=n.fontSize;i.clear(),r.save(),r.textBaseline="top",r.textAlign="start",r.fillStyle=s,r.fontSize=l;var f=r.measureText(t).width;o+=(u-f)/2,r.fillText(t,o,a),r.restore(),r.draw()}}]),e}(l.default);n.default=d},{"../util/helper":25,"./base":16,"./layout":17}],21:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("../core/scale"),l=i(s),c=t("../util/helper"),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"buildTicks",value:function(t,e,n){return t&&c.is.Array(t)?(n=n||0,e=e||t.length,t.slice(n,e)):t}},{key:"buildDatasets",value:function(t,e,n){return this.buildTicks.apply(this,arguments)}},{key:"getPoint",value:function(t){return this.getTicksPosition(t)}}]),e}(l.default);n.default=f},{"../core/scale":19,"../util/helper":25}],22:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../core/scale"),u=i(a),s=t("../core/layout"),l=(i(s),t("../util/helper")),c={xMargin:void 0,xFirstPointSpace:"auto"},f=function(){function t(e,n,i){if(r(this,t),!e instanceof u.default&&!n instanceof u.default)throw new Error("Should be an WxScale instance");var o=this;o.xScale=e,o.yScale=n,o.config=(0,l.extend)(!0,{},c,i)}return o(t,[{key:"draw",value:function(t,e,n){var i=this,r=i.config,o=r.xMargin,a=r.xFirstPointSpace;i.yScale.init(n);var u=i.yScale.calculateBox(t,n);i.xScale.init(e);var c=i.xScale.calculateBox(t,e),f=c.outerHeight-c.marginTB-i.xScale.lineSpace;i.yScale.config.fixPadding=2*f;var h=u.outerWidth-u.marginLR-i.yScale.lineSpace,d=h-i.xScale.fixPadding/2,p=void 0;"auto"===a?p=i.xScale.config.extendLeft||Math.min(c.width/10,i.xScale.calculateTickWidth(e,c)/e.length):0===a?(n[n.length-1].text="",p=0):p=l.is.Function(a)?a(c,u,t,i.xScale,i.yScale,e,n):parseFloat(a),d-=i.xScale.config.ticks.lineWidth||1,d+=p;var v=t.x+d;l.is.Function(o)?o=o(c,u,t,i.xScale,i.yScale,e,n):o&&l.is.Number(o)||(o=0);var y=new s.BoxInstance(c.position,v,c.y,c.width-d-o,c.height,c.outerWidth-d,c.outerHeight);return i.yScale.setBox(u,!1),i.yScale.update(n),i.xScale.setBox(y,!1),i.xScale.config.extendLeft=p,i.xScale.update(e),{xBox:y,yBox:u}}}]),t}();n.default=f},{"../core/layout":17,"../core/scale":19,"../util/helper":25}],23:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("../core/scale"),l=i(s),c=t("../util/helper"),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"buildTicks",value:function(t,e,n,i){var r=void 0,o=[];if(i&&i>0)r=i;else{var a=(0,c.niceNum)(t-e,!1);r=(0,c.niceNum)(a/(n-1),!0)}var u=Math.floor(e/r)*r,s=Math.ceil(t/r)*r,l=(s-u)/r;l=(0,c.almostEquals)(l,Math.round(l),r/1e3)?Math.round(l):Math.ceil(l);for(var f=0;f<l;f++)o.push(u+f*r);return o.push(s),o}},{key:"buildDatasets",value:function(t,e,n,i,r){var o=this,a=o.buildTicks(t,e,n,i);return o.isHorizontal()||a.reverse(),a.map(function(t){return(0,c.extend)({text:t+"",value:t},r)})}},{key:"calculateTickLimit",value:function(t,e){var n=this,i=e.fontSize,r=void 0,o=n.config.ticks;return r=n.isHorizontal()?Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(t.width/50)):Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(t.height/(2*i)))}},{key:"getPoint",value:function(t){var e=this,n=this.box,i=void 0,r=void 0,o=parseInt(e.visDatasets[0].value),a=parseInt(e.visDatasets[e.visDatasets.length-1].value),u=a-o;if(e.isHorizontal()){var s=e.getTicksPosition(e.visDatasets.length-1).x-e.getTicksPosition(0).x;i=e.getTicksPosition(0).x+s/u*(t-o),r="top"===e.position?n.ry-e.lineSpace:n.ly+e.lineSpace}else{var l=e.getTicksPosition(e.visDatasets.length-1).y-e.getTicksPosition(0).y;i="left"===e.position?n.rx-e.lineSpace:n.lx+e.lineSpace,r=e.getTicksPosition(0).y+l/u*(t-o)}return{x:Math.round(i),y:Math.round(r)}}}]),e}(l.default);n.default=f},{"../core/scale":19,"../util/helper":25}],24:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"stackYScaleAxisLimit",value:function(){var t=this,e=0,n=0;return t.visDatasets.forEach(function(i){var r=0,o=0;t.legends.forEach(function(t){var e=t.key,n=i[e];n<0?r+=n||0:o+=n||0}),i.__sumNeg=r,i.__sumPos=o,r<e&&(e=r),o>n&&(n=o)}),{max:n,min:e}}},{key:"_getStackValue",value:function(t,e){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,this),i=n.visDatasets[t],r=void 0,o=0,a=0,u=0;u<e;u++)r=i[n.legends[u].key],r<0?o+=r||0:a+=r||0;return{sumNeg:o,sumPos:a}}},{key:"_getStackPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,r=this,o=r.visDatasets[t],a=o[r.legends[e].key],u=r._getStackValue(t,e,n,i),s=u.sumNeg,l=u.sumPos;return a<0?i.getPoint(s+a+n):i.getPoint(l+a+n)}}]),t}();n.default=o},{}],25:[function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=Array.from(arguments);return t.reduce(function(t,e){return t+e},0)}function o(t){var e=function(e){for(var n=!0,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return m.Boolean(e)&&(n=e,e=0 in o?o.shift():null),m.Array(e)?o.forEach(function(t){var n;(n=e).push.apply(n,i(t))}):m.Object(e)&&o.forEach(function(i){for(var r in i)if(!t||i.hasOwnProperty(r)){var o=i[r],a=e[r];m.PureObject(o)?e[r]=n?C(!0,m.PureObject(a)?a:{},o):o:m.Array(o)?e[r]=n?C(!0,m.Array(a)?a:[],o):o:e[r]=o}}),e};return e}function a(){return"undefined"!=typeof wx&&"object"===("undefined"==typeof wx?"undefined":x(wx))}function u(t){if(!A)return Number.parseInt(t);var e=c();if(m.String(t)){var n=t.match(O);return n?+n[1]*e.windowWidth/750:(n=t.match(T),n?+n[1]*e.windowWidth/20:Number.parseInt(t))}if(m.Number(t))return t;throw new Error("Convert px error")}function s(t){return t*(Math.PI/180)}function l(t){return t*(180/Math.PI)}function c(){var t=void 0,e=void 0;if(A){var n=wx.getSystemInfoSync();e=n.windowWidth,t=n.windowHeight}else e=window.innerWidth,t=window.innerHeight;return{windowWidth:e,windowHeight:t}}function f(){if(A){var t=wx.getSystemInfoSync();return t.pixelRatio}return window.devicePixelRatio||1}function h(t,e){var n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n),r=void 0;return r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,n)}function d(t,e,n){return Math.abs(t-e)<n}function p(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.4,r=t?t:e,o=e,a=n?n:e,u=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),s=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=u/(u+s),c=s/(u+s);l=isNaN(l)?0:l,c=isNaN(c)?0:c;var f=i*l,h=i*c;return{previous:{x:o.x-f*(a.x-r.x),y:o.y-f*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}}function v(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function y(t,e){var n=v(t,e),i=n&&n.match(/(\d+)px/);return i?Number(i[1]):void 0}function g(t,e,n){var i=f();if(1!==i){var r=t.canvas;A||(r.height=r.height*i,r.width=r.width*i,t.scale(i,i),r.style.height=n+"px",r.style.width=e+"px")}}Object.defineProperty(n,"__esModule",{value:!0});var x="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof2(t)};n.sum=r,n.checkWX=a,n.wxConverToPx=u,n.toRadians=s,n.toDegrees=l,n.getWindowSize=c,n.getDPR=f,n.niceNum=h,n.almostEquals=d,n.splineCurve=p,n.getStyle=v,n.readUsedSize=y,n.retinaScale=g;var b=Object.prototype,m=n.is={};["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"].forEach(function(t){m[t]=function(e){return b.toString.call(e)==="[object "+t+"]"}}),m.Array=Array.isArray||function(t){return"[object Array]"===b.toString.call(t)},m.Object=function(t){var e="undefined"==typeof t?"undefined":x(t);return"function"===e||"object"===e&&!!t};var w={},_=w.toString,k=w.hasOwnProperty,P=k.toString,S=P.call(Object);m.PureObject=function(t){var e=void 0,n=void 0;return!(!t||"[object Object]"!==b.toString.call(t))&&(!(e=Object.getPrototypeOf(t))||(n=k.call(e,"constructor")&&e.constructor,"function"==typeof n&&P.call(n)===S))},m.Boolean=function(t){return t===!0||t===!1||"[object Boolean]"===_.call(t)},m.Null=function(t){return null===t},m.Undefined=function(t){return void 0===t},m.NaN=function(t){return m.Number(t)&&t!==+t};var C=(n.REG_HANZI=/[\u4e00-\u9fa5]/,n.REG_ALPHABET=/[a-zA-Z]/,n.REG_NUMBER=/[0-9]/,n.REG_ALPHABET_NUMBER=/[0-9a-zA-Z]/,n.extend=o(!1)),A=(n.extendOwn=o(!0),n.isWeiXinAPP=a()),O=/([\d.]+)rpx/,T=/([\d.]+)rem/;n.uid=function(){var t=0;return function(){return t++,"u"+t}}()},{}],26:[function(t,e,n){(function(n){var i=t("../util/helper"),r=t("performance-now"),o=void 0,a=(0,i.checkWX)();o=a?{}:"undefined"==typeof window?n:window;for(var u=["moz","webkit"],s="AnimationFrame",l=o["request"+s],c=o["cancel"+s]||o["cancelRequest"+s],f=0;!l&&f<u.length;f++)l=o[u[f]+"Request"+s],c=o[u[f]+"Cancel"+s]||o[u[f]+"CancelRequest"+s];l&&c||!function(){var t=0,e=0,n=[],i=1e3/60;l=function(o){if(0===n.length){var a=r(),u=Math.max(0,i-(a-t));t=u+a,setTimeout(function(){var e=n.slice(0);n.length=0;for(var i=0;i<e.length;i++)if(!e[i].cancelled)try{e[i].callback(t)}catch(t){setTimeout(function(){throw t},0)}},Math.round(u))}return n.push({handle:++e,callback:o,cancelled:!1}),e},c=function(t){for(var e=0;e<n.length;e++)n[e].handle===t&&(n[e].cancelled=!0)}}(),e.exports=function(t){return l.call(o,t)},e.exports._root=o,e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=l,o.cancelAnimationFrame=c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/helper":25,"performance-now":8}],27:[function(t,e,n){function i(t){var e=s(t.hue),n=f(e);return n<0&&(n=360+n),n}function r(t,e){if("random"===e.luminosity)return f([0,100]);if("monochrome"===e.hue)return 0;var n=l(t),i=n[0],r=n[1];switch(e.luminosity){case"bright":i=55;break;case"dark":i=r-10;break;case"light":r=55}return f([i,r])}function o(t,e,n){var i=u(t,e),r=100;switch(n.luminosity){case"dark":r=i+20;break;case"light":i=(r+i)/2;break;case"random":i=0,r=100}return f([i,r])}function a(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return y(t);case"hsl":var n=y(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=y(t),r=e.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+r+")";case"rgbArray":return v(t);case"rgb":var o=v(t);return"rgb("+o.join(", ")+")";case"rgba":var a=v(t),r=e.alpha||Math.random();return"rgba("+a.join(", ")+", "+r+")";default:return h(t)}}function u(t,e){for(var n=c(t).lowerBounds,i=0;i<n.length-1;i++){var r=n[i][0],o=n[i][1],a=n[i+1][0],u=n[i+1][1];if(e>=r&&e<=a){var s=(u-o)/(a-r),l=o-s*r;return s*e+l}}return 0}function s(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(e<360&&e>0)return[e,e]}if("string"==typeof t&&b[t]){var n=b[t];if(n.hueRange)return n.hueRange}return[0,360]}function l(t){return c(t).saturationRange}function c(t){t>=334&&t<=360&&(t-=360);for(var e in b){var n=b[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return b[e]}return"Color not found"}function f(t){if(null===x)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,n=t[0]||0;x=(9301*x+49297)%233280;var i=x/233280;return Math.floor(n+i*(e-n))}function h(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var n=v(t),i="#"+e(n[0])+e(n[1])+e(n[2]);return i}function d(t,e,n){var i=n[0][0],r=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];b[t]={hueRange:e,lowerBounds:n,saturationRange:[i,r],brightnessRange:[o,a]}}function p(){d("monochrome",null,[[0,0],[100,0]]),d("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),d("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),d("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),d("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),d("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),d("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),d("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function v(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,i=t[2]/100,r=Math.floor(6*e),o=6*e-r,a=i*(1-n),u=i*(1-o*n),s=i*(1-(1-o)*n),l=256,c=256,f=256;switch(r){case 0:l=i,c=s,f=a;break;case 1:l=u,c=i,f=a;break;case 2:l=a,c=i,f=s;break;case 3:l=a,c=u,f=i;break;case 4:l=s,c=a,f=i;break;case 5:l=i,c=a,f=u}var h=[Math.floor(255*l),Math.floor(255*c),Math.floor(255*f)];return h}function y(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=(2-n)*i;return[e,Math.round(n*i/(r<1?r:2-r)*1e4)/100,r/2*100]}function g(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}Object.defineProperty(n,"__esModule",{value:!0});var x=null,b={};p();var m=function t(e){if(e=e||{},void 0!==e.seed&&null!==e.seed&&e.seed===parseInt(e.seed,10))x=e.seed;else if("string"==typeof e.seed)x=g(e.seed);else{if(void 0!==e.seed&&null!==e.seed)throw new TypeError("The seed value must be an integer or string");x=null}var n=void 0,u=void 0,s=void 0;if(null!==e.count&&void 0!==e.count){var l=e.count,c=[];for(e.count=null;l>c.length;)x&&e.seed&&(e.seed+=1),c.push(t(e));return e.count=l,c}return n=i(e),u=r(n,e),s=o(n,u,e),a([n,u,s],e)};n.default=m},{}],28:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./raf"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.duration=e.duration||1e3,this.ease=e.easing||this._defaultEase,this.start=e.start,this.end=e.end,this.frame=null,this.next=null,this.isRunning=!1,this.events={},this.direction=this.start<this.end?"up":"down"}return r(t,[{key:"begin",value:function(){return this.isRunning||this.next===this.end||(this.frame=o(this._tick.bind(this))),this}},{key:"stop",value:function(){return o.cancel(this.frame),this.isRunning=!1,this.frame=null,this.timeStart=null,this.next=null,this}},{key:"on",value:function(t,e){return this.events[t]=this.events[t]||[],this.events[t].push(e),this}},{key:"off",value:function(t,e){if(!this.events[t])return this;if(e){var n=this.events[t],i=n.findIndex(function(t){return t===e});n.splice(i,1)}else this.events[t]=[];return this}},{key:"emit",value:function(t,e){var n=this,i=this.events[t];i&&i.forEach(function(t){return t.call(n,e)})}},{key:"_tick",value:function(t){this.isRunning=!0;var e=this.next||this.start;this.timeStart||(this.timeStart=t),this.timeElapsed=t-this.timeStart,this.next=Math.round(this.ease(this.timeElapsed,this.start,this.end-this.start,this.duration)),this._shouldTick(e)?(this.emit("tick",this.next),this.frame=o(this._tick.bind(this))):(this.emit("tick",this.end),this.emit("done",null))}},{key:"_shouldTick",value:function(t){return{up:this.next<this.end&&t<=this.next,down:this.next>this.end&&t>=this.next}[this.direction]}},{key:"_defaultEase",value:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}}]),t}();n.default=a},{"./raf":26}],29:[function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WxCanvasRenderingContext2D=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./helper"),u={width:300,height:200},s={fillStyle:"#000000",lineCap:"butt",lineJoin:"miter",miterLimit:10,lineWidth:1,strokeStyle:"#000000",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000000",font:"10px",textBaseline:"alphabetic",textAlign:"start"},l=9,c=/([\d.]+)px/,f=function(){function t(e,n,i){r(this,t);var o=this;o.isWeiXinAPP=(0,a.checkWX)(),o._config=(0,a.extend)({},u,o.initConfig(n));var s=this.acquireContext(e,n),l=s.canvas,c=s.context;return o._canvas=l,o._ctx=c,o.wxCanvasRenderingContext2D=new h(l,c,i),o}return o(t,[{key:"initConfig",value:function(t){if(t)return"undefined"!=typeof t.width&&(t.width=(0,a.wxConverToPx)(t.width)),"undefined"!=typeof t.height&&(t.height=(0,a.wxConverToPx)(t.height)),t}},{key:"acquireContext",value:function(t,e){var n=this,i=void 0,r=void 0,o=e.canvas;if(n.isWeiXinAPP){if(!a.is.String(t))throw new Error("Should set an id");i=r=wx.createCanvasContext(t)}else i=o?o:a.is.String(t)?document.getElementById(t):"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement?t:null,"undefined"!=typeof i&&(r=i.getContext&&i.getContext("2d"));return i&&r||console.error("Failed to create WxCanvas: can't acquire context!"),this.initCanvas(i),{canvas:i,context:r}}},{key:"initCanvas",value:function(t){var e=this._config,n=void 0,i=void 0,r=void 0,o=void 0,u=void 0;if(o=e.height,u=e.width,this.isWeiXinAPP)n=o,i=u,r=e.display;else{var s=t.style;if(n=t.getAttribute("height"),i=t.getAttribute("width"),s.display=s.display||"block",null===i||""===i){var l=u||(0,a.readUsedSize)(t,"width");void 0!==l&&(t.width=l,u=l)}if(null===n||""===n)if(o||""!==t.style.height){var c=o||(0,a.readUsedSize)(t,"height");void 0!==l&&(t.height=c,o=c)}else t.height=o=t.width/(e.aspectRatio||2)}return e._wxChart={initial:{height:n,width:i,style:{display:r,height:o,width:u}}},t}},{key:"releaseContext",value:function(){var t=this._canvas,e=this._config;if(e._wxChart){var n=e._wxChart.initial;if(this.isWeiXinAPP);else{["height","width"].forEach(function(e){var i=n[e];void 0===i||null===i?t.removeAttribute(e):t.setAttribute(e,i)});var i=n.style,r=!0,o=!1,a=void 0;try{for(var u,s=Object.keys(i)[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var l=u.value;t.style[l]=i[l]}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}t.width=t.width}delete e._wxChart}}},{key:"getContext",value:function(t){if("2d"===t)return this.wxCanvasRenderingContext2D}},{key:"height",get:function(){if(this.isWeiXinAPP)return this._config.height;var t=(0,a.wxConverToPx)(this._canvas.getAttribute("height"));return null===t||""===t?(0,a.readUsedSize)(canvas,"height"):t},set:function(t){this.isWeiXinAPP||(this._canvas.height=t)}},{key:"width",get:function(){if(this.isWeiXinAPP)return this._config.width;var t=(0,a.wxConverToPx)(this._canvas.getAttribute("width"));return null===t||""===t?(0,a.readUsedSize)(canvas,"width"):t},set:function(t){this.isWeiXinAPP||(this._canvas.width=t)}}]),t}();n.default=f;var h=n.WxCanvasRenderingContext2D=function(){function t(e,n,i){r(this,t);var o=this;return o.canvas=e,o._ctx=n,o.isWeiXinAPP=(0,a.checkWX)(),o._ctxOptions=i,o._propertyCache=[(0,a.extend)({},s,i)],o.cp=o._propertyCache[0],o.createStyleProperty(),o.createShadowsProperty(),o.createTextProperty(),o.createLineProperty(),o.createRectProperty(),o.createGradientProperty(),o.createPathProperty(),o.createTransformationProperty(),o.createGlobalAlphaProperty(),o}return o(t,[{key:"save",value:function(){var t=this;t._ctx.save();var e=(0,a.extend)({},s,t._ctxOptions);return t._propertyCache.push(e),t.cp=e,t.cp}},{key:"restore",value:function(){var t=this;return t._ctx.restore(),null!=t.cp&&t._propertyCache.length>1&&(t._propertyCache.pop(),t.cp=t._propertyCache[t._propertyCache.length-1]),t.cp}},{key:"_wxSetPropertyCallable",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set"+e.replace(/(\w)/,function(t){return t.toUpperCase()}),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=this;return a.is.Null(t)||a.is.Undefined(t)?t:r.cp[e]===t?t:(r.isWeiXinAPP?(r._ctx[n](i),r.cp[e]=t):(r._ctx[e]=t,r.cp[e]=r._ctx[e]),t)}},{key:"_wxNotSupportSetProperty",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;return a.is.Null(t)||a.is.Undefined(t)?t:i.cp[e]===t?t:(i.isWeiXinAPP?(i.cp[e]=t,n?i._ctx[e]=t:null):(i._ctx[e]=t,i.cp[e]=i._ctx[e]),t)}},{key:"_wxCompatibiltySetProperty",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set"+e.replace(/(\w)/,function(t){return t.toUpperCase()}),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(this.isWeiXinAPP){var r="canvasContext."+n;if(console.log("canIUse : "+r),wx.canIUse(r))return console.log("call "+n+" -> "+i),this._wxSetPropertyCallable(t,e,n,i)}return this._wxNotSupportSetProperty(t,e)}},{key:"createStyleProperty",value:function(){var t=this,e=["fillStyle","strokeStyle"];e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){if(n)return t._wxSetPropertyCallable(n.toLowerCase(),e)}})})}},{key:"createShadowsProperty",value:function(){var t=this,e=this;["shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"].forEach(function(n){Object.defineProperty(e,n,{get:function(){return e.cp[n]},set:function(e){var i=t;if(i.cp[n]!==e)return i.isWeiXinAPP?(i.cp[n]=e,i._ctx.setShadow(i.cp.shadowOffsetX||0,i.cp.shadowOffsetY||0,i.cp.shadowBlur||0,i.cp.shadowColor||"#000000")):a.is.Null(e)||a.is.Undefined(e)||(i._ctx[n]=e,i.cp[n]=e),e}})})}},{key:"createTextProperty",value:function(){var t=this,e="textAlign";Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){return"left"===n||"right"===n||"center"===n?t._wxCompatibiltySetProperty(n,e):"start"===n||"end"===n?t._wxCompatibiltySetProperty(n,e,void 0,"start"===n?"left":"right"):t._wxNotSupportSetProperty(n,e)}});var n="textBaseline";Object.defineProperty(t,n,{get:function(){return t.cp[n]},set:function(e){return"hanging"===e?t._wxNotSupportSetProperty(e,n):"alphabetic"===e?t._wxCompatibiltySetProperty(e,n,void 0,"normal"):t._wxCompatibiltySetProperty(e,n)}}),Object.defineProperty(t,"font",{get:function(){return t.cp.font},set:function(e){if(t.isWeiXinAPP){var n=e.match(c);if(n&&t.cp.font!==e){var i=+n[1];t._ctx.setFontSize(i),t.cp.font=e}}else t.cp.font!==e&&(t._ctx.font=e,t.cp.font=e);return t.cp.font}}),Object.defineProperty(t,"fontSize",{get:function(){return parseInt(t.cp.font)},set:function(e){var n=parseInt(e);
if(!a.is.NaN(n)){var i=t.isWeiXinAPP?t.cp.font:t._ctx.font;return i=i.replace(c,n+"px"),i===t.cp.font?t.cp.font:(t.isWeiXinAPP?(t._ctx.setFontSize(n),t.cp.font=i):(t._ctx.font=i,t.cp.font=i),t.cp.font)}}})}},{key:"measureText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.fontSize,n=this;if(n.isWeiXinAPP){if(!t)return 0;var i=t.length,r=t.match(new RegExp(a.REG_HANZI,"g")),o=r?r.length:0,u=i-o;return{width:e*(u+2*o)/2+e/4}}return n._ctx.measureText(t)}},{key:"_calculateYForTextBaseline",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,i=this,r=t;if(!i.isWeiXinAPP)return r;var o=i.fontSize,a=i.textBaseline;switch(a){case"top":r=o*n/10+t;break;case"middle":r=o*n/20+t;break;case"alphabetic":case"normal":}return r}},{key:"_calculateXFortextAlign",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,this),i=t;if(!n.isWeiXinAPP)return i;var r=n.textAlign;switch(r){case"end":case"right":i=t-n.measureText(e).width;break;case"center":i=t-n.measureText(e).width/2;break;case"start":case"left":}return i}},{key:"fillText",value:function(t,e,n){for(var i=arguments.length,r=Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var a=this,u=0 in r?r[0]:void 0,s=1 in r?r[1]:l;if(a.isWeiXinAPP){var c=e,f=n;return wx.canIUse("canvasContext.setTextBaseline")||(f=a._calculateYForTextBaseline(n,t,s)),wx.canIUse("canvasContext.setTextAlign")||(c=a._calculateXFortextAlign(e,t,s)),console.log("fillText "+t+" -> "+c+" "+f),a._ctx.fillText(t,c,f)}return a._ctx.fillText(t,e,n,u)}},{key:"strokeText",value:function(t,e,n){for(var i=this,r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];if(i.isWeiXinAPP)return i.fillText.apply(i,[t,e,n].concat(o));var u;return(u=i._ctx).strokeText.apply(u,[t,e,n].concat(o))}},{key:"createLineProperty",value:function(){var t=this,e=["lineCap","lineJoin","miterLimit","lineWidth"];e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){return t._wxSetPropertyCallable(n,e)}})}),["lineDashOffset"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){return t._wxNotSupportSetProperty(n,e)}})})}},{key:"setLineDash",value:function(){}},{key:"getLineDash",value:function(){}},{key:"createRectProperty",value:function(){var t=this;["clearRect","fillRect","strokeRect"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}})}},{key:"createGradientProperty",value:function(){var t=this;["createLinearGradient"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}})}},{key:"createRadialGradient",value:function(t,e,n,i,r,o){var a=this;return a.isWeiXinAPP?a._ctx.createCircularGradient(t,e,n):a._ctx.createRadialGradient(t,e,n,i,r,o)}},{key:"createPathProperty",value:function(){var t=this;["beginPath","closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","rect"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}}),["fill","stroke"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}})}},{key:"clip",value:function(){var t=this;if(t.isWeiXinAPP)throw new Error('WeiXin APP not support "clip" function yet!');var e;return(e=t._ctx).clip.apply(e,arguments)}},{key:"createTransformationProperty",value:function(){var t=this;["rotate","scale","translate"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}})}},{key:"transform",value:function(){var t=this;if(t.isWeiXinAPP)throw new Error('WeiXin APP not support "transform" function yet!');var e;return(e=t._ctx).transform.apply(e,i(args))}},{key:"createGlobalAlphaProperty",value:function(){var t=this;["globalAlpha"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){return t._wxSetPropertyCallable(n,e)}})})}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isWeiXinAPP&&this._ctx.draw(t)}}]),t}()},{"./helper":25}],30:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.WxBar=n.WxLiner=n.WxDoughnut=n.WxChart=n.getChartInstances=void 0;var r=t("./charts/wxChart"),o=i(r),a=t("./charts/doughnut"),u=i(a),s=t("./charts/liner"),l=i(s),c=t("./charts/bar"),f=i(c);n.getChartInstances=r.getChartInstances,n.WxChart=o.default,n.WxDoughnut=u.default,n.WxLiner=l.default,n.WxBar=f.default},{"./charts/bar":11,"./charts/doughnut":12,"./charts/liner":13,"./charts/wxChart":14}]},{},[30])(30)});
//# sourceMappingURL=wx-chart.min.js.map
